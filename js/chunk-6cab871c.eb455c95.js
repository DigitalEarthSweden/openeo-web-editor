(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cab871c","chunk-6cab871c","chunk-6cab871c"],{"2efc":function(t,e,r){"use strict";var i=r("a504"),s=r("5e31"),n=r("acc1"),o=r("1e8d"),a=r("01d4"),c=r("0af5"),u=r("7fc9"),h=r("0999"),d=r("256f");function l(t,e,r,i){var s=Object(d["j"])(r,e,t),n=Object(d["f"])(e,i,r),o=e.getMetersPerUnit();void 0!==o&&(n*=o);var a=t.getMetersPerUnit();void 0!==a&&(n/=a);var u=t.getExtent();if(!u||Object(c["f"])(u,s)){var h=Object(d["f"])(t,n,s)/n;isFinite(h)&&h>0&&(n/=h)}return n}function f(t,e,r,i){var s=r-t,n=i-e,o=Math.sqrt(s*s+n*n);return[Math.round(r+s/o),Math.round(i+n/o)]}function _(t,e,r,i,s,n,o,a,d,l,_){var v=Object(h["a"])(Math.round(r*t),Math.round(r*e));if(0===d.length)return v.canvas;v.scale(r,r);var g=Object(c["j"])();d.forEach((function(t,e,r){Object(c["q"])(g,t.extent)}));var b=Object(c["E"])(g),j=Object(c["A"])(g),p=Object(h["a"])(Math.round(r*b/i),Math.round(r*j/i)),E=r/i;d.forEach((function(t,e,r){var i=t.extent[0]-g[0],s=-(t.extent[3]-g[3]),n=Object(c["E"])(t.extent),o=Object(c["A"])(t.extent);p.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,i*E,s*E,n*E,o*E)}));var O=Object(c["C"])(o);return a.getTriangles().forEach((function(t,e,s){var o=t.source,a=t.target,c=o[0][0],h=o[0][1],d=o[1][0],l=o[1][1],_=o[2][0],b=o[2][1],j=(a[0][0]-O[0])/n,E=-(a[0][1]-O[1])/n,T=(a[1][0]-O[0])/n,m=-(a[1][1]-O[1])/n,x=(a[2][0]-O[0])/n,W=-(a[2][1]-O[1])/n,M=c,I=h;c=0,h=0,d-=M,l-=I,_-=M,b-=I;var P=[[d,l,0,0,T-j],[_,b,0,0,x-j],[0,0,d,l,m-E],[0,0,_,b,W-E]],y=Object(u["e"])(P);if(y){v.save(),v.beginPath();var w=(j+T+x)/3,S=(E+m+W)/3,G=f(w,S,j,E),L=f(w,S,T,m),D=f(w,S,x,W);v.moveTo(L[0],L[1]),v.lineTo(G[0],G[1]),v.lineTo(D[0],D[1]),v.clip(),v.transform(y[0],y[2],y[1],y[3],j,E),v.translate(g[0]-M,g[3]-I),v.scale(i/r,-i/r),v.drawImage(p.canvas,0,0),v.restore()}})),_&&(v.save(),v.strokeStyle="black",v.lineWidth=1,a.getTriangles().forEach((function(t,e,r){var i=t.target,s=(i[0][0]-O[0])/n,o=-(i[0][1]-O[1])/n,a=(i[1][0]-O[0])/n,c=-(i[1][1]-O[1])/n,u=(i[2][0]-O[0])/n,h=-(i[2][1]-O[1])/n;v.beginPath(),v.moveTo(a,c),v.lineTo(s,o),v.lineTo(u,h),v.closePath(),v.stroke()})),v.restore()),v.canvas}var v=10,g=.25,b=function(t,e,r,i,s){this.sourceProj_=t,this.targetProj_=e;var n={},o=Object(d["g"])(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return n[e]||(n[e]=o(t)),n[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(c["E"])(i)==Object(c["E"])(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(c["E"])(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(c["E"])(this.targetProj_.getExtent()):null;var a=Object(c["C"])(r),u=Object(c["D"])(r),h=Object(c["w"])(r),l=Object(c["v"])(r),f=this.transformInv_(a),_=this.transformInv_(u),g=this.transformInv_(h),b=this.transformInv_(l);if(this.addQuad_(a,u,h,l,f,_,g,b,v),this.wrapsXInSource_){var j=1/0;this.triangles_.forEach((function(t,e,r){j=Math.min(j,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-j>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-j>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-j>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-j>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var r=Math.min(e[0][0],e[1][0],e[2][0]),i=Math.max(e[0][0],e[1][0],e[2][0]);i-r<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}n={}};b.prototype.addTriangle_=function(t,e,r,i,s,n){this.triangles_.push({source:[i,s,n],target:[t,e,r]})},b.prototype.addQuad_=function(t,e,r,i,s,n,o,a,h){var d=Object(c["b"])([s,n,o,a]),l=this.sourceWorldWidth_?Object(c["E"])(d)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,_=this.sourceProj_.canWrapX()&&l>.5&&l<1,v=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var b=Object(c["b"])([t,e,r,i]),j=Object(c["E"])(b)/this.targetWorldWidth_;v=j>g||v}!_&&this.sourceProj_.isGlobal()&&l&&(v=l>g||v)}if(v||!this.maxSourceExtent_||Object(c["F"])(d,this.maxSourceExtent_)){if(!v&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(n[0])||!isFinite(n[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1]))){if(!(h>0))return;v=!0}if(h>0){if(!v){var p,E=[(t[0]+r[0])/2,(t[1]+r[1])/2],O=this.transformInv_(E);if(_){var T=(Object(u["d"])(s[0],f)+Object(u["d"])(o[0],f))/2;p=T-Object(u["d"])(O[0],f)}else p=(s[0]+o[0])/2-O[0];var m=(s[1]+o[1])/2-O[1],x=p*p+m*m;v=x>this.errorThresholdSquared_}if(v){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var W=[(e[0]+r[0])/2,(e[1]+r[1])/2],M=this.transformInv_(W),I=[(i[0]+t[0])/2,(i[1]+t[1])/2],P=this.transformInv_(I);this.addQuad_(t,e,W,I,s,n,M,P,h-1),this.addQuad_(I,W,r,i,P,M,o,a,h-1)}else{var y=[(t[0]+e[0])/2,(t[1]+e[1])/2],w=this.transformInv_(y),S=[(r[0]+i[0])/2,(r[1]+i[1])/2],G=this.transformInv_(S);this.addQuad_(t,y,S,i,s,w,G,a,h-1),this.addQuad_(y,e,r,S,w,n,o,G,h-1)}return}}if(_){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,r,i,s,o,a),this.addTriangle_(t,e,r,s,n,o)}},b.prototype.calculateSourceExtent=function(){var t=Object(c["j"])();return this.triangles_.forEach((function(e,r,i){var s=e.source;Object(c["r"])(t,s[0]),Object(c["r"])(t,s[1]),Object(c["r"])(t,s[2])})),t},b.prototype.getTriangles=function(){return this.triangles_};var j=b,p=function(t){function e(e,r,s,o,a,h,d,f,_,v,g){t.call(this,a,n["a"].IDLE),this.renderEdges_=void 0!==g&&g,this.pixelRatio_=d,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=r,this.targetTileGrid_=o,this.wrappedTileCoord_=h||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var b=o.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent(),E=this.sourceTileGrid_.getExtent(),O=p?Object(c["B"])(b,p):b;if(0!==Object(c["u"])(O)){var T=e.getExtent();T&&(E=E?Object(c["B"])(E,T):T);var m=o.getResolution(this.wrappedTileCoord_[0]),x=Object(c["x"])(O),W=l(e,s,x,m);if(!isFinite(W)||W<=0)this.state=n["a"].EMPTY;else{var M=void 0!==v?v:i["b"];if(this.triangulation_=new j(e,s,O,E,W*M),0!==this.triangulation_.getTriangles().length){this.sourceZ_=r.getZForResolution(W);var I=this.triangulation_.calculateSourceExtent();if(E&&(e.canWrapX()?(I[1]=Object(u["a"])(I[1],E[1],E[3]),I[3]=Object(u["a"])(I[3],E[1],E[3])):I=Object(c["B"])(I,E)),Object(c["u"])(I)){for(var P=r.getTileRangeForExtentAndZ(I,this.sourceZ_),y=P.minX;y<=P.maxX;y++)for(var w=P.minY;w<=P.maxY;w++){var S=_(this.sourceZ_,y,w,d);S&&this.sourceTiles_.push(S)}0===this.sourceTiles_.length&&(this.state=n["a"].EMPTY)}else this.state=n["a"].EMPTY}else this.state=n["a"].EMPTY}}else this.state=n["a"].EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n["a"].LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,i){e&&e.getState()==n["a"].LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=n["a"].ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),i="number"===typeof r?r:r[0],s="number"===typeof r?r:r[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=_(i,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=n["a"].LOADED}this.changed()},e.prototype.load=function(){if(this.state==n["a"].IDLE){this.state=n["a"].LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,i){var s=e.getState();if(s==n["a"].IDLE||s==n["a"].LOADING){t++;var c=Object(o["a"])(e,a["a"].CHANGE,(function(r){var i=e.getState();i!=n["a"].LOADED&&i!=n["a"].ERROR&&i!=n["a"].EMPTY||(Object(o["e"])(c),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(c)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,r){var i=t.getState();i==n["a"].IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(o["e"]),this.sourcesListenerKeys_=null},e}(s["a"]);e["a"]=p},"345d":function(t,e,r){"use strict";function i(t){return t[0]>0&&t[1]>0}function s(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]*e+.5|0,r[1]=t[1]*e+.5|0,r}function n(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return n}))},"8cc5":function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return n})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));var i=r("7fc9");function s(t,e){return void 0!==t?0:void 0}function n(t,e){return void 0!==t?t+e:void 0}function o(t){var e=2*Math.PI/t;return function(t,r){return void 0!==t?(t=Math.floor((t+r)/e+.5)*e,t):void 0}}function a(t){var e=t||Object(i["i"])(5);return function(t,r){return void 0!==t?Math.abs(t+r)<=e?0:t+r:void 0}}},a504:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return s}));var i=.5,s=!0},aaa2:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o}));var i=r("9f5e"),s=r("7fc9");function n(t){return function(e,r,n){if(void 0!==e){var o=Object(i["h"])(t,e,n);o=Object(s["a"])(o+r,0,t.length-1);var a=Math.floor(o);if(o!=a&&a<t.length-1){var c=t[a]/t[a+1];return t[a]/Math.pow(c,o-a)}return t[a]}}}function o(t,e,r){return function(i,s,n){if(void 0!==i){var o=-n/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+o),c=Math.max(a+s,0);return void 0!==r&&(c=Math.min(c,r)),e/Math.pow(t,c)}}}}}]);
//# sourceMappingURL=chunk-6cab871c.eb455c95.js.map