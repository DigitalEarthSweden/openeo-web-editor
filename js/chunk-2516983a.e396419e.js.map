{"version":3,"sources":["webpack:///./src/components/TextEditor.vue?63e3","webpack:///src/components/TextEditor.vue","webpack:///./src/components/TextEditor.vue?9144","webpack:///./src/components/TextEditor.vue","webpack:///./src/components/CustomProcessPanel.vue?3814","webpack:///./src/components/VisualEditor.vue?413d","webpack:///./src/components/TextEditor.vue?e4e1","webpack:///./src/components/FullscreenButton.vue?61bf","webpack:///src/components/FullscreenButton.vue","webpack:///./src/components/FullscreenButton.vue?63bb","webpack:///./src/components/FullscreenButton.vue","webpack:///./src/components/Viewer.vue?b388","webpack:///./src/components/Editor.vue?9da2","webpack:///./src/components/maps/projManager.js","webpack:///./src/components/DiscoveryToolbar.vue?16e2","webpack:///./src/components/IDE.vue?dcbd","webpack:///./src/components/JobPanel.vue?4b24","webpack:///./src/components/DiscoveryToolbar.vue?2366","webpack:///./src/components/FullscreenButton.vue?3f3a","webpack:///./src/components/ServicePanel.vue?c8eb","webpack:///./src/components/FilePanel.vue?b924","webpack:///./src/components/UserWorkspace.vue?13f5","webpack:///./src/components/DiscoveryToolbar.vue?fd18","webpack:///src/components/DiscoveryToolbar.vue","webpack:///./src/components/DiscoveryToolbar.vue?5e94","webpack:///./src/components/DiscoveryToolbar.vue","webpack:///./src/components/TextEditor.vue?9964","webpack:///./src/components/Editor.vue?4457","webpack:///./src/components/VisualEditor.vue?7cbf","webpack:///src/components/VisualEditor.vue","webpack:///./src/components/VisualEditor.vue?fdb7","webpack:///./src/components/VisualEditor.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?b528","webpack:///./src/components/Editor.vue","webpack:///./src/components/IDE.vue?12af","webpack:///./src/components/UserMenu.vue?26b1","webpack:///src/components/UserMenu.vue","webpack:///./src/components/UserMenu.vue?194a","webpack:///./src/components/UserMenu.vue","webpack:///./src/components/UserWorkspace.vue?0754","webpack:///./src/components/FilePanel.vue?15b0","webpack:///./src/components/WorkPanelMixin.js","webpack:///src/components/FilePanel.vue","webpack:///./src/components/FilePanel.vue?9f8d","webpack:///./src/components/FilePanel.vue","webpack:///./src/components/JobPanel.vue?563e","webpack:///src/components/JobPanel.vue","webpack:///./src/components/JobPanel.vue?7f35","webpack:///./src/components/JobPanel.vue","webpack:///./src/components/CustomProcessPanel.vue?0ab5","webpack:///src/components/CustomProcessPanel.vue","webpack:///./src/components/CustomProcessPanel.vue?311e","webpack:///./src/components/CustomProcessPanel.vue","webpack:///./src/components/ServicePanel.vue?6721","webpack:///src/components/ServicePanel.vue","webpack:///./src/components/ServicePanel.vue?7b25","webpack:///./src/components/ServicePanel.vue","webpack:///src/components/UserWorkspace.vue","webpack:///./src/components/UserWorkspace.vue?dec6","webpack:///./src/components/UserWorkspace.vue","webpack:///./src/components/Viewer.vue?9316","webpack:///src/components/Viewer.vue","webpack:///./src/components/Viewer.vue?c294","webpack:///./src/components/Viewer.vue","webpack:///src/components/IDE.vue","webpack:///./src/components/IDE.vue?bb34","webpack:///./src/components/IDE.vue","webpack:///./src/components/UserMenu.vue?b11a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","languageString","_v","_s","title","_e","attrs","on","confirmClear","_t","canUndo","$event","editor","undo","canRedo","redo","element","id","staticRenderFns","window","name","components","FullscreenButton","props","editable","type","default","value","required","language","placeholder","computed","editorOptions","indentUnit","lineNumbers","indentWithTabs","matchBrackets","autoCloseBrackets","readOnly","options","data","emitValue","watch","mounted","methods","updateState","commit","pg","emit","insert","text","updateContent","insertProcess","Utils","component","directives","rawName","expression","isFullscreen","toggleFullscreen","mixins","keyDownFn","oldZIndex","el","beforeDestroy","onkeyDown","e","getElement","ProjManager","Projection","_load","code","meta","extent","proj4","defs","register","projection","getProjection","Array","isArray","transformExtent","setExtent","includes","basemap","error","console","stac","isObject","properties","get","add","crs","match","toUpperCase","substr","Number","isInteger","String","proj","model","callback","$$v","searchTerm","collections","collapsed","scopedSlots","_u","key","fn","ref","item","supportsLoadCollection","onDrag","showCollectionInfo","hasCollectionPreview","showCollectionPreview","allProcesses","showProcess","namespace","summary","udfRuntimes","supportsRunUdf","runtime","identifier","version","showUdfInfo","fileFormats","supportsSaveResult","showFileFormatInfo","Collections","FileFormats","Processes","SearchBox","UdfRuntimes","onAddProcess","collectionPreview","persist","internalSearchTerm","hasUdfRuntimes","set","immediate","handler","event","format","getNode","process_id","arguments","canSwitchView","showModel","parent","parentSchema","modelValue","showDiscoveryToolbar","defaultValue","onError","proxy","showCode","codeValue","this$1","$refs","blocks","hasSelection","deleteSelected","editProcess","addParameter","highlightFormula","isMath","showExpressionModal","compactMode","toggleCompact","perfectScale","visualEditor","enabled","isFullScreen","onDrop","allowDrop","processes","errorHandler","param","editParameter","openArgumentEditor","compact","selectionChanged","historyChanged","ModelBuilder","DiscoveryToolbar","formula","node","reader","getNameField","description","label","schema","pattern","getDescriptionField","optional","subtype","getOptionalField","getDefaultField","toggledBy","getExperimentalField","getDeprecatedField","getSchemaField","minItems","items","process","info","additionalProperties","message","http","enum","returns","href","rel","newData","categories","experimental","deprecated","examples","links","process_graph","js","save","openArgumentEditorForNode","processSpec","Object","parameters","selectParameterName","events","clear","VisualEditor","TextEditor","Tabs","Tab","updateTab","activeEditor","authenticated","isAuthenticated","showHelp","showServerInfo","resized","splitpaneSizeH","splitpaneSizeV","contextTitle","updateEditor","importProcess","hasProcess","saveProcess","exportCode","validateProcess","login","empty","showViewer","onViewerEmpty","_m","userName","budget","storageUsedPercent","profileLink","settingsLink","preventDefault","logout","apply","registerLink","passwordLink","$config","serverUrl","disconnect","userLinks","length","_l","link","userInfo","default_plan","paymentLink","formatMegabyte","storageUsed","storage","quota","style","serverLinks","hasStorage","logoutUser","resetEditor","onShow","onHide","dropZoneInfo","uploadFiles","uploadErrored","uploadProgress","uploadFadeOut","columns","p","downloadFile","row","deleteFile","singular","plural","loadInitially","DataTable","syncTimer","lastSyncTime","updateData","stopSyncTimer","mapState","mapGetters","mapActions","getTable","table","startSyncTimer","supportsList","setInterval","getSyncInterval","clearInterval","dataRefreshInterval","obj","old","assign","updated","read","exception","nextSyncTime","Date","now","supportsCreate","isUpdate","setNoData","list","log","path","primaryKey","sortFn","sort","size","filterable","modified","actions","uploadProgressPerFile","showUploadDropHint","deep","ev","files","file","percent","finishAllUploads","catch","showJobInfo","supports","estimateJob","isJobInactive","editMetadata","showInEditor","deleteJob","queueJob","isJobActive","cancelJob","mayHaveResults","downloadResults","viewResults","showLogs","slot","createJobFromScript","executeProcess","WorkPanelMixinInstance","WorkPanelMixin","hide","computedValue","edit","status","stylable","created","watchers","jobUpdater","runId","timeout","buttons","action","abortController","toast","level","jobCreated","getTitleField","getBillingPlanField","getBudgetField","normalizeToDefaultData","executeWatchers","result","job","estimate","replaceProcess","updateTitle","processInfo","deleteProcess","addProcessFromScript","getIdField","fields","store","normalize","addProcess","serviceInfo","deleteService","isMapServiceSupported","viewService","createServiceFromScript","serviceCreated","getServiceTypeField","getEnabledField","getConfigField","service","toggleEnabled","FilePanel","JobPanel","CustomProcessPanel","ServicePanel","showJobs","showServices","showCustomProcesses","showFiles","tab","onTabsEmpty","logViewerIcons","icon","isCollectionPreview","_g","_b","tag","isFormat","getUrl","DataViewer","TableViewer","ImageViewer","LogViewer","MapViewer","registry","tabTitleCounter","tabIdCounter","nextTabId","collection","preview","bbox","showWebService","faIcon","resource","selectTab","closeTabWithLogs","closeTab","showSyncResults","showJobResults","showMapViewer","uniqueTitle","makeTitle","Editor","Logo","Viewer","UserMenu","UserWorkspace","Splitpanes","Pane","resizeListener","userInfoUpdater","supportsJobUpdate","supportsServiceUpdate","supportsUserProcessUpdate","saveSupported","validateSupported","errors","showDataForm"],"mappings":"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pK,oBACAwC,gBACAvC,YACAoK,0BACAC,wBACApK,yBAEAC,OACAN,UACAO,UACAC,aACAC,YAEAC,OACAF,YACAC,kBAEA4H,QACA7H,YACAC,cAEA6H,cACA9H,YACAC,cAEA+H,sBACAhI,aACAC,YAEAtB,OACAqB,aAEAiI,iBAEA3H,aACA,iDACA,mDACA,0CACAwI,SACA,8DAGA/H,OACA,OACA9B,WACAI,WACA2J,eACAP,gBACAyB,aACAb,kBAGApI,OACAf,OACAkH,aACAC,WACA,0EACA,IACA,uBACA,uCACA8C,mCAEA,kCACA,SACAvI,yBAPA,QASA,8BAMAT,YACA,iDACAE,UAEA,+FACAnB,qBAEA,uBAEAuJ,uBACA7H,4BAEAkI,sBACA,6EAEAC,oBACA,sBACA,uBAEAR,aACAjC,oBAEAgC,UACA,4DACA,MACA,oBAEA,OADA,sCACA,mBAIA,2BACA,iBACA,8BACA,gCACA,qBAWA,OAVAc,mBACA,IACA,wCACA,4BACA,SACAxI,sDAGAwI,iEACAA,wBACA,sBAIAC,yBACA,OACAnK,QACAP,OACA2K,6IACAC,aACAC,QACAxK,cACAyK,kBAEAxK,eAGAyK,4DACA,OACAxK,QACAP,OACA2K,kHACAC,QACAI,WACAH,QACAxK,cACA4K,wBAIAC,oBACA,OACA3K,QACAP,gBACA4K,iBACAD,iKACAK,YACAH,QACAxK,gBAEAC,aAGA6K,mBACA,OACA5K,QACAP,eACA4K,sBACAD,+GACAS,qBACAJ,YACAH,YAGAQ,wBACA,OACA9K,QACAP,oBACA4K,qBACAD,wGACAK,YACAH,QACAxK,gBAEAC,aAGAgL,sBACA,OACA/K,QACAP,kBACA4K,mBACAD,qJACAK,YACAH,QACAxK,gBAEAC,aAGAiL,4CACA,wCACA,OACAhL,QACAP,OACA4K,QACAD,mDACAE,QACA,CACA7L,yBACAqB,cACA4K,WAEA,CACAjM,4BACAqB,aACAmL,WACAC,OACApL,cACA4K,eAMAjC,eACA0C,0BACA,8CACA,OACA,6BACA,CACAnL,gBACAP,eACA2K,4FACAC,gBACAI,YACAH,QACAxK,gBAGA,2CACA,CACAE,mBACAP,kBACA4K,mBACAI,YACAH,QACAxK,aACAoL,OACApL,iBAIA,0CACA,sCACA,CACAuK,mBACAD,qFACAgB,SAEA,8FACA,0EACA,CACApL,mBACAP,kBACA2K,8QACAC,eACAI,YACAH,QACAxK,cACAuL,sBACAvL,cACAG,UACA,WAEA6D,YACAwH,SACA7M,sBACAqB,eAEAsK,aACA3L,oBACAqB,cACA4K,sBAEAa,MACA9M,yBACAqB,eACA0L,MACA,IACA,IACA,UAOA,CACAxL,iBACAP,gBACA4K,iBACAD,gIACAK,YACAH,QACAxK,aACAoL,OACApL,cACAG,UACA,aAEA6D,YACArF,OACAA,cACAqB,eAEArB,OACAA,oBACAqB,cACA4K,sBAEAlD,WACA/I,kBACAqB,cACAC,YAEA0L,SACAhN,0BAMA,CACAuB,cACAP,aACA4K,cACAD,4EACAK,YACAH,QACAxK,aACAoL,OACApL,cACAG,UACA,OACA,OAEA6D,YACA4H,MACAjN,YACAqB,eAEA6L,KACAlN,iBACA2L,2HACAtK,cACAC,iBAEAtB,OACAA,cACAqB,eAEAA,MACArB,mBACA2L,kHACAtK,oBAOA,oDACA,uIACA,8DACA8L,WACAxB,kCACAE,0BAIA,mCACA,wBACA,SACAhL,MACAuG,WACAuE,eACAyB,cACAC,gBACAC,cACAC,YACAC,SACAC,kBAGA,eACA,iCACA,KAGA,kBAGAxD,eACA,OACA,oBACA,2BACA,wBACA,uBACA,4BACA,0BACA,uBAEA,qDACA,iDACA,uCAIAe,2CACA,OACA,0BACA,wCACA,kCACA,gCACA,0CACA,sCACA,+BAEA,iCAEAZ,sBACA,+DACAsD,4EACA,IACAA,UACA,OACAhB,WAEA,GACAiB,uBAEA,6CACA,SACA1K,2BAGA2K,6BACA,mCACA,qBACA,+CACA,wBACAC,4EACArC,YACAqC,MACA,EACA,KACAzL,IACA0L,iBAAA/E,cACA,kBAIAkC,2DACA,OACAjL,QACA+N,aACA3L,OACAhB,WACA4M,sBACA9E,UAEA,KACA,wBACA+E,UAEA,6CAEA7N,eACA,iE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CAsG,oBAEA,iBACA,eACA,yCACA,wBAIAsM,UAGAxS,YACA,6CACA0Q,iBACAsD,oCACA,uDAEA5D,gBACA4D,mCACA,wBACAlD,gCAGAsC,gBACA,sDAEA,uBACA,IAYA,EAZA,2BACA,GACAuB,UACA9V,aACA+V,UACAtU,cACAuU,WACAC,UACA,kCAKA,IACA,aACA,yDACA,+BACA,0BACAC,+BACA,oEACA,8BACA,SACA,oBAGA,iGACA,uBACA1W,QACAsD,YACAqT,cACA3K,kBACAW,qBAEAvK,yGAGAA,yCAvBA,QA0BA,GACA,gCAIAwU,cACA,SACA,8BACAL,QAAAtU,gBAAAuU,iCAEA,2BACAD,QAAAtU,wBAAAuU,8BAEA,4BACAD,QAAAtU,cAAAuU,+BAEApU,wEAEAyU,sBACA,OACA1W,aACA4K,cACAC,QAAAxK,eACAC,aACAC,QACAyK,cAGAD,4BACA,OACA/K,mBACA4K,oBACAC,QAAAxK,cAAA4K,sBACA3K,aACAC,QACAoK,gDACAK,cAGA2L,uBACA,OACA3W,YACA4K,qBACAC,QAAAxK,cAAA4K,wBACA1K,QACAyK,cAGA4L,uBACA,OACA5W,cACA4K,eACAC,QAAAxK,cAAA4K,kBACA3K,aACAC,QACAyK,cAGA6L,0BAaA,MAZA,8EACAzV,cAEA,gGACAA,oBAEA,2EACAA,aAEA,0EACAA,eAEA,GAEA,qBACA,IACAA,iCACA,yBAAA2L,uDACA,mBACA,SACA9K,8DAGAqT,sBACA,OACA,qBACA,2BACA,0DACA,iDAEA,sFAEA,mBACA,0FAIA,UACA,aAAAlU,SACA,iCACA,SACAa,2EAGA6U,kBACA,2BACA,6CACA,iDACA,SACA,mCACAV,QAAAtU,gBAAAuU,qCACAD,QAAAtU,YAAAuU,kCAEApU,gFAEA,wCACAA,kGAGA,qBACA,qCAKA,qBACA,gCACA,WACA,yBACA,IACA8U,6BACA,SACA9U,2EAGA,sCAAA+U,eAAAD,cAGA,qBAEA,IACA,4BACA,0CAAAC,eAAAC,aACA,SACAhV,6EAGAmT,YACA,yBAEA8B,oBACA,wBACA,oBACAjV,sEAGA,kBAAAyJ,cAIAiJ,gBACA,0BACA,OACA,4BACA,wCACA,gEACA,yDAEA,uEAGAwC,iBACA,kBAAAnY,WAEA,qBACA,IACA,yBAAAoC,OAAA2L,4CACA9K,6EACA,SACAA,2EAGA,kBACA,gCACA,qNAIA,IACA,wBAAAb,SACAa,4EACA,SACAA,4EAIA,mBACA,uGAGA,IACA,yBAAAb,SACAa,8EACA,SACAA,2EAGA,qBAEA,IACA,iCACA,4BAEA,YADAA,oFAGA,gCACA,SACAA,4EAGA,yBAEA,IACA,iCACA,4BAEA,YADAA,oFAGA,6CAAA+U,MAAAD,WACA,SACA9U,gFAGAgT,kBACA,sEAEAP,iBACA,mDAEAK,eACA,qDCnYkV,ICQ9U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI1W,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACiH,IAAI,QAAQ/G,YAAY,qBAAqBO,MAAM,CAAC,KAAOb,EAAI+C,KAAK,QAAU/C,EAAI2S,SAAS1L,YAAYjH,EAAIkH,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASwL,GAAG,MAAO,CAACxS,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAgB,aAAEgE,WAAW,iBAAiBnD,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI+Y,YAAYnG,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAgB,aAAEgE,WAAW,iBAAiBnD,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIuW,aAAa3D,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAkB,eAAEgE,WAAW,mBAAmBnD,MAAM,CAAC,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIgZ,cAAcpG,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACF,EAAG,WAAW,CAAC4W,KAAK,WAAW,CAAC5W,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAkB,eAAEgE,WAAW,mBAAmBnD,MAAM,CAAC,MAAQ,yBAAyB,UAAYZ,KAAK6P,YAAYhP,GAAG,CAAC,MAAQd,EAAIiZ,uBAAuB,CAAC7Y,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAIS,GAAG,aAAa,IACrxC,EAAkB,GCkBP,GACfkB,0BACAwC,0EACApB,OACA,OACA4P,SACAnR,IACAG,UACAuT,cACAE,YAEArN,SACApG,gBAEA6T,SACA7T,eACA2T,cACAF,YAKA9S,aACA,yCACA,oCACA,4CAEAY,UACA,mDAEAC,SACAoT,gBACA,sDAEA2C,cACA,OACAhX,QACAP,UACA2K,6IACAC,mBACAC,QACAxK,cACAyK,kBAEAxK,eAGAgX,uBACA,SACA,gBAGA,gCAQA,6CACAE,QACA5M,iBACAD,qOACAgB,UAEA6L,2CAbAA,QACA5M,uBACAD,kFACAgB,UAEA6L,0CARAA,0BAkBA,yDACA,WACA,2DAGAC,KAGAC,kBACA,qBACA,GACA,0CACAtW,IAGAuW,cACA,aAAA5K,sBACAuH,MAAArQ,wEAEAmT,eACA,4BAEAF,oBACA,+BACA,0BAGA,0BACA,IACA,yBAAA9V,OAAA2L,iCACA9K,iFACA,SACAA,sEAGAoV,iBACA,sFAGA,aAAAjW,SACAkT,MAAArQ,2EC/H4V,ICQxV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI5F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACiH,IAAI,QAAQ/G,YAAY,eAAeO,MAAM,CAAC,KAAOb,EAAI+C,KAAK,QAAU/C,EAAI2S,SAAS1L,YAAYjH,EAAIkH,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASwL,GAAG,MAAO,CAACxS,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAgB,aAAEgE,WAAW,iBAAiBnD,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIuZ,YAAY3G,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAkB,eAAEgE,WAAW,mBAAmBnD,MAAM,CAAC,MAAQ,iBAAiBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIsW,aAAa1D,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAgB,aAAEgE,WAAW,iBAAiBnD,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIuW,aAAa3D,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAkB,eAAEgE,WAAW,mBAAmBnD,MAAM,CAAC,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAIwZ,cAAc5G,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAO0Q,EAAEE,IAAI1H,SAAWpL,EAAIyZ,sBAAsB7G,EAAEE,IAAI9Q,MAAOgC,WAAW,uDAAuDnD,MAAM,CAAC,MAAQ,eAAeC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI0Z,YAAY9G,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAImW,SAAS,gBAAiBnS,WAAW,6BAA6BnD,MAAM,CAAC,MAAQ,aAAaC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI+W,SAASnE,EAAEE,QAAQ,CAAC1S,EAAG,IAAI,CAACE,YAAY,uBAAuB,CAACF,EAAG,WAAW,CAAC4W,KAAK,WAAW,CAAC5W,EAAG,SAAS,CAAC0D,WAAW,CAAC,CAACnC,KAAK,OAAOoC,QAAQ,SAAS7B,MAAOlC,EAAkB,eAAEgE,WAAW,mBAAmBnD,MAAM,CAAC,MAAQ,kBAAkB,UAAYZ,KAAK6P,YAAYhP,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOlB,EAAI2Z,6BAA6B,CAACvZ,EAAG,IAAI,CAACE,YAAY,gBAAgBN,EAAIS,GAAG,gBAAgB,IAC1lE,EAAkB,GCqBP,GACfkB,oBACAwC,2DACApB,OACA,OACA4P,SACAnR,IACAG,UACAuT,cACAmC,SAEA1W,OACAgB,mBACA2V,4CACA/N,oCACAgO,uBAEAvV,MACAL,YACA4H,iDAEA6B,SACAzJ,eACA4V,yBAEAG,SACA/V,iBACA4H,mBACA6L,aAEAI,SACA7T,eACA2T,cACAF,YAKA9S,aACA,yCACA,8CACA,qCACA,0EAEAY,UACA,mDAEAC,SACAsW,yBACA,wCAEAlD,gBACA,sDAEAQ,YACA,yBAEA6C,kBACA,SACA,oCACA7B,QAAAtU,mBAAAuU,iCAEA,mBACAD,QAAAtU,eAAAuU,iCAEA,qBACAD,QAAAtU,cAAAuU,mCAEApU,+CAEAyU,sBACA,OACA1W,aACA4K,cACAC,QAAAxK,eACAC,aACAC,QACAyK,cAGAD,4BACA,OACA/K,mBACA4K,oBACAC,QAAAxK,cAAA4K,sBACA3K,aACAC,QACAoK,gDACAK,cAGAkN,uBACA,OACAlY,YACA4K,aACAC,QAAAxK,cAAA4K,wBACA1K,UAGAoW,uBACA,OACA3W,YACA4K,qBACAC,QAAAxK,cAAA4K,wBACA1K,QACAyK,cAGA4L,uBACA,OACA5W,cACA4K,eACAC,QAAAxK,cAAA4K,kBACA3K,aACAC,QACAyK,cAGAmN,sBACA,OACAnY,eACA4K,gBACAC,QAAAxK,gBACAC,WACAC,QACAyK,cAGAoN,kBACA,OACApY,qBACA4K,8BACAC,QAAAxK,cAAA4K,0BACA1K,QACAyK,cAGA6L,0BAmBA,MAlBA,8EACAzV,cAEA,gGACAA,oBAEA,+DACAA,cAEA,yEACAA,oBAEA,2EACAA,aAEA,0EACAA,eAEA,GAEA,yBACAA,iCACA,IACA,yBAAA2L,wFACA,uBACA,SACA9K,kEAGA+V,0BACA,OACA,qBACA,2BACA,2BACA,uBACA,0DACA,gDACA,uBAEA,4FAEArD,gBACA,0BACA,OACA,4BACA,wCACA,gCACA,gEACA,wDACA,sCAEA,6EAGAiD,eACA,0BACA,0CAAAS,wBAGAnB,oBACA,2BACA,sBAAAxL,aAGAyL,iBACA,sBAAAnY,WAEAsZ,iBACA,sBAAA7O,sBAEA,yBACA,IACA,yBAAArI,OAAA2L,4CACA9K,iFACA,SACAA,+EAGA,uBACA,wFAGA,UACA,aAAAb,SACA,mCACA,SACAa,+EAGA8V,eACA,iCC1PsV,ICQlV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCOA,GACf/X,qBACAC,YACAsY,YACAC,WACAC,qBACAC,eACArL,kBACAC,kBAEA3M,aACA,gCACAgY,WACA,8DAEAC,eACA,sEAEAC,sBACA,4EAEAC,YACA,iEAGAtX,SACAiP,UACA,+DACAsI,yBAGArI,UACA,+DACAqI,2BC3DuV,ICQnV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI1a,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkBQ,GAAG,CAAC,KAAOd,EAAIsL,OAAO,SAAWtL,EAAIuL,YAAY,CAACnL,EAAG,OAAO,CAACiH,IAAI,OAAOxG,MAAM,CAAC,GAAK,cAAcC,GAAG,CAAC,MAAQd,EAAI2a,aAAa1T,YAAYjH,EAAIkH,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACpH,EAAIS,GAAG,kCAAkC0J,OAAM,GAAM,CAAChD,IAAI,UAAUC,GAAG,SAASC,GAC9Y,IAAIqT,EAAMrT,EAAIqT,IACd,MAAO,CAAE1a,EAAI4a,eAAelV,SAASgV,EAAIG,MAAOza,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO6Z,EAAI3X,QAAsB,WAAb2X,EAAIG,KAAmBza,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO6Z,EAAI3X,KAAK,gBAAkB/C,EAAI8a,oBAAoBJ,EAAI3X,OAAOjC,GAAG,CAAC,KAAOd,EAAIoS,OAAO,KAAOpS,EAAIqS,UAAWqI,EAAI3X,KAAc,UAAE3C,EAAGsa,EAAI3X,KAAKc,UAAU7D,EAAI+a,GAAG/a,EAAIgb,GAAG,CAACC,IAAI,YAAYna,GAAG,CAAC,KAAOd,EAAIoS,OAAO,KAAOpS,EAAIqS,SAAS,YAAYqI,EAAI3X,KAAKjB,OAAM,GAAO4Y,EAAI3X,KAAK6L,SAASxO,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIS,GAAG,kEAAmET,EAAIkb,SAASR,EAAI3X,MAAO,CAAC/C,EAAIS,GAAG,mEAAmEL,EAAG,MAAMA,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO6Z,EAAI3X,KAAKoY,SAAS,SAAW,KAAK,CAACnb,EAAIS,GAAG,eAAeT,EAAIY,MAAM,WAAW,IAC7tB,EAAkB,G,oCCyBP,IACfe,cACAwC,gBACAvC,YACAoN,kBACAoM,+DACAC,qGACAC,gEACAC,8DACAC,4WAEAtY,UACA,mDACA,kDACA,kDACA,gEACA,sCACA,sDACA,qDAEAH,OACA,OACA0Y,oBACAC,mBACAC,eACAf,gBACA,SACA,UACA,cAIAtY,aACA,+CACAsZ,YACA,oCAGAzY,YACA,0CACA2X,uBACA,4FAEAI,YACA,4BAEA,+BACA,uBACA,IACAW,mCACA,SAEA,YADAjY,2DAKA,uCACA,GACAA,4DAGA,wDACAoW,aACAA,2BACAA,cACA8B,WACAC,oDAEA,+BACA,kCACA/B,qBACAzI,iBAGA,iCACAyI,qCAEAA,8CAGA,oCACA,iCAEAgC,kBACA,oCAEAjF,qCACA,2DACA,qCAEA,MACA,gCACA,KAEA,YADA,6BAKA,uBACApW,EAAAsb,EAAAC,EAAA1a,EAAA2a,GAAA,EACAzB,kBACAA,oBAGA0B,oBACA,iBACA,0BAEAC,YACA,gCACA,GACA,6BAGAC,mBACA,+BAEA,4CAEAzG,2BAEA,kCAEA,wCACA,8BAIA0G,oBACA,6CACA,gCACA,8BAEAC,oCAIA,GAHA,IACA7b,iCAEA,GAOA,MACA,gCACA,KACA,0CAPA,GAFAa,iBACA,oBACA,EACA,oDASA,uBACAb,EAAA,SAAAub,EAAA1a,GAAA,KACAkZ,kBACAA,oBAGA,uCACA,eACA,IACA,qBAKA,IAJA,OACAlZ,QAGA,GACA,MACA,oDAEA,gCACA,KAEA,YADA,8BAKA,KACAb,gCAEA,IACAA,oCAEA,2BACA,uBACAA,EAAAmV,SAAAtU,GAAA,KACAkZ,kBACAA,mBAEA,SACA9W,0CAIA,kCACA,MACA,iEACA8U,8BAEA,6BAIA,wBAHAA,aAQA,OAHA,uBACAA,WAEA,GAEA,gBACA,4DACA,MACA,OAEA,oBACA,qCACApP,mBACA,uDACA,IACA,uCACA,8BACA,SACA1F,0EAIA2H,aACAjC,oBAEA8I,UACA,oCAEAC,UACA,oCAEAsI,eACA,uBAEA8B,eACA,gCAKA,0BACA,qCALA,0BACA,IAOAC,oBACA,SAGA,EACA,oBAGA,EANA,uBCrRgV,MCQ5U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,yECsCA,IACf/a,WACAwC,gBACAvC,YACAqK,yBACA0Q,qBACAC,aACAC,UACAC,WACAC,gBACAC,mBACAC,cAEAla,OACA,OACAqN,cACA8M,oBACAC,uBAGA7a,aACA,qDACA,uEACA,wDACA,0BAAA8a,wCACA,8BAAAC,4CACA,mCAAAC,6CACA3N,eACA,wEAEA4N,gBACA,6BACA,0DACA,kEACA,2EAGAzN,aACA,oCAEA0N,oBACA,yCAEA/N,iBACA,uBACA,WAGA,WAGAC,iBACA,4BACA,QAGA,SAIA,gBACA,8CACA,4CACA,oCAEA,uCACAhO,sDACA,uBACA,gGAEA,8BAEA,wBACA,oBACA,0DACA,mCAIA6C,gBACA,4BACA7C,yDAEA,6BACAuS,qCAGA9Q,YACA,0CACA,+CACA,iFAEAqM,WACA,8BAEAa,iBACA,oBAGAH,QACA,6BAGAL,gBACA,OACAvB,wBAEA,kDAGAyB,cACA,uDAGA,mBACA,0CAGA,wBACA,2BACA,8DAEA,oBACA,kDAEA,IACA,0DACA,YACA0N,8BACA,wDAGA7Z,uCAEA,SACAA,iDAIAgM,gBACA,mBACA,UACA,uBAIAjF,eACA,oBAGAhH,iBACA,oCAGA4L,iBACA,0CAGAD,WACA,6BAGAoO,gCACA,4BACA,KACA,KACA,eACA,WAGAhP,sCACA3L,mBAGA,OACApC,QACA+N,aACA3L,OACAhB,YAEA,KACA,wBACA6M,UAEA,wBACAA,YAEA,+CCpP6U,MCQzU,I,UAAY,eACd,GACA7O,EACA0B,GACA,EACA,KACA,KACA,OAIa,gB,2CCnBf","file":"js/chunk-2516983a.e396419e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textEditor\",class:_vm.languageString},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('strong',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[_c('span',{staticClass:\"sepr\"},[(_vm.editable)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]):_vm._e(),_vm._t(\"file-toolbar\")],2),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.editor.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.editor.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_vm._t(\"edit-toolbar\")],2):_vm._e(),_c('FullscreenButton',{attrs:{\"element\":_vm.element}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"sourceCodeEditor\",attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"textEditor\" :class=\"languageString\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<strong v-if=\"title\">{{ title }}</strong>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\">\n\t\t\t\t\t<button type=\"button\" v-if=\"editable\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"editor.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"editor.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<slot name=\"edit-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<FullscreenButton :element=\"element\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"id\" class=\"sourceCodeEditor\"></div>\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport FullscreenButton from './FullscreenButton.vue';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\n\nimport CodeMirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css';\n\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/markdown/markdown.js';\nimport 'codemirror/mode/mathematica/mathematica.js';\nimport 'codemirror/mode/python/python.js';\nimport 'codemirror/mode/r/r.js';\n\nimport 'codemirror/addon/display/placeholder.js';\n\nimport 'codemirror/addon/edit/matchbrackets.js';\nimport 'codemirror/addon/edit/closebrackets.js';\n\nimport 'codemirror/addon/lint/lint.css';\nimport 'codemirror/addon/lint/lint.js';\nimport 'codemirror/addon/lint/json-lint.js'\nimport jsonlint from 'jsonlint-mod';\nwindow.jsonlint = jsonlint;\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tFullscreenButton\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\trequired: true\n\t\t},\n\t\tlanguage: {\n\t\t\ttype: String,\n\t\t\tdefault: null // json, r, python, markdown, processgraph or null\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['processes']),\n\t\tlanguageString() {\n\t\t\treturn typeof this.language === 'string' ? this.language.toLowerCase() : '';\n\t\t},\n\t\teditorOptions() {\n\t\t\tlet options = {\n\t\t\t\tindentUnit: 2,\n\t\t\t\tlineNumbers: true,\n\t\t\t\tindentWithTabs: true,\n\t\t\t\tmatchBrackets: true,\n\t\t\t\tautoCloseBrackets: true,\n\t\t\t\treadOnly: !this.editable,\n\t\t\t\tplaceholder: this.placeholder\n\t\t\t};\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'r':\n\t\t\t\t\toptions.mode = 'text/x-rsrc';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'python':\n\t\t\t\t\toptions.mode = 'text/x-python';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'math':\n\t\t\t\t\toptions.mode = 'text/x-mathematica'; // Use mathematica mode until we have something better for openEO\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'markdown':\n\t\t\t\t\toptions.mode = 'text/x-markdown';\n\t\t\t\t\toptions.lineWrapping = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javascript':\n\t\t\t\t\toptions.mode = 'text/javascript';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\toptions.mode = 'application/json';\n\t\t\t\t\toptions.gutters = ['CodeMirror-lint-markers'];\n\t\t\t\t\toptions.lint = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn options;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\teditor: null,\n\t\t\temitValue: this.value,\n\t\t\telement: null\n\t\t}\n\t},\n\twatch: {\n\t\tasync value() {\n\t\t\tif (this.emitValue !== this.value) {\n\t\t\t\tthis.updateContent();\n\t\t\t\tthis.editor.clearHistory();\n\t\t\t}\n\t\t},\n\t\teditorOptions() {\n\t\t\tfor(var key in this.editorOptions) {\n\t\t\t\tthis.editor.setOption(key, this.editorOptions[key]);\n\t\t\t}\n\t\t\tthis.updateContent();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.editor = CodeMirror(document.getElementById(this.id), this.editorOptions);\n\t\tthis.editor.setSize(null, \"100%\");\n\t\tif (this.languageString === 'processgraph') {\n\t\t\tthis.editor.on(\"change\", () => this.updateState());\n\t\t}\n\t\tthis.updateContent();\n\n\t\t// Listen for changes only after first initialization\n\t\tthis.editor.on('changes', (cm, evt) => {\n\t\t\ttry {\n\t\t\t\t// Don't commit external changes (i.e. coming from the value prop)\n\t\t\t\tif (Object.values(evt).filter(e => e.origin === 'setValue').length === 0) {\n\t\t\t\t\tthis.commit();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.$emit('error', error);\n\t\t\t}\n\t\t});\n\n\t\tthis.element = this.$el;\n\t},\n\tmethods: {\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing code?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.insert(\"\");\n\t\t\t\tthis.emit(null);\n\t\t\t}\n\t\t},\n\t\tupdateState() {\n\t\t\t// Don't lint empty values\n\t\t\tthis.editor.setOption(\"lint\", !!this.editor.getValue().trim());\n\t\t\t// Update history state\n\t\t\tlet history = this.editor.getDoc().historySize();\n\t\t\tthis.canUndo = history.undo > 0;\n\t\t\tthis.canRedo = history.redo > 0;\n\t\t\t// Refresh editor\n\t\t\tthis.editor.refresh();\n\t\t\t// Refresh element for fullscreen\n\t\t\tthis.element = this.$el;\n\t\t},\n\t\tcommit() {\n\t\t\tvar value = this.editor.getValue();\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'math':\n\t\t\t\t\treturn this.emit(value.replace(/[\\r\\n\\t]+/, ' ')); // Replace line breaks and tabs with simple spaces\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tvar process = JSON.parse(value);\n\t\t\t\t\t\tif (Utils.size(process) > 0) {\n\t\t\t\t\t\t\tvar pg = new ProcessGraph(process, this.processes);\n\t\t\t\t\t\t\tpg.allowEmpty();\n\t\t\t\t\t\t\tpg.parse();\n\t\t\t\t\t\t\treturn this.emit(process);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this.emit(null);\n\t\t\t\tcase 'json':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\treturn this.emit(JSON.parse(value));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.emit(null);\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.emit(value);\n\t\t\t}\n\t\t},\n\t\temit(value) {\n\t\t\tthis.emitValue = value;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tinsert(text, replace = true) {\n\t\t\tif (typeof text !== 'string') {\n\t\t\t\ttext = String(text);\n\t\t\t}\n\t\t\tif (replace) {\n\t\t\t\t// Only update if it has really changed\n\t\t\t\tconst cmValue = this.editor.getValue();\n\t\t\t\tif (text !== cmValue) {\n\t\t\t\t\tconst scrollInfo = this.editor.getScrollInfo();\n\t\t\t\t\tthis.editor.setValue(text);\n\t\t\t\t\tthis.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.editor.replaceSelection(text);\n\t\t\t}\n\t\t},\n\t\tupdateContent() {\n\t\t\tif (this.value) {\n\t\t\t\tswitch(this.languageString) {\n\t\t\t\t\tcase 'processgraph':\n\t\t\t\t\t\tif (Utils.isObject(this.value)) {\n\t\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.insert(\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.insert(this.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.insert(\"\");\n\t\t\t}\n\t\t\tthis.editor.getDoc().clearHistory();\n\t\t\tthis.updateState();\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\ttry {\n\t\t\t\tthis.insert(JSON.stringify(node, null, 2), false);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\n\t}\n}\n</script>\n\n<style scoped>\n.textEditor {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid #ddd;\n}\n.sourceCodeEditor {\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: hidden;\n}\n</style>\n<style>\n.textEditor.math .cm-operator {\n\tmargin: 0 0.2em;\n}\n.textEditor.markdown .CodeMirror-wrap pre {\n    word-break: break-word;\n}\n.CodeMirror-placeholder {\n\topacity: 0.5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=100002bb&scoped=true&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=100002bb&scoped=true&lang=css&\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"100002bb\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=100002bb&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.element),expression:\"element\"}],attrs:{\"type\":\"button\",\"title\":_vm.isFullscreen ? 'Close fullscreen' : 'Show fullscreen'},on:{\"click\":_vm.toggleFullscreen}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFullscreen),expression:\"isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-compress\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFullscreen),expression:\"!isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-expand\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button v-show=\"element\" type=\"button\" @click=\"toggleFullscreen\" :title=\"isFullscreen ? 'Close fullscreen' : 'Show fullscreen'\">\n\t\t<span v-show=\"isFullscreen\"><i class=\"fas fa-compress\"></i></span>\n\t\t<span v-show=\"!isFullscreen\"><i class=\"fas fa-expand\"></i></span>\n\t</button>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'FullscreenButton',\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\telement: {\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisFullscreen: false,\n\t\t\tkeyDownFn: null,\n\t\t\toldZIndex: 'auto'\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.keyDownFn = this.onkeyDown.bind(this);\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.addEventListener('keydown', this.keyDownFn);\n\t\t}\n\t},\n    beforeDestroy() {\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.removeEventListener('keydown', this.keyDownFn);\n\t\t}\n    },\n    computed: {\n\t\t...Utils.mapState('editor', ['hightestModalZIndex'])\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['openModal', 'closeModal']),\n\t\tonkeyDown(e) {\n\t\t\t// ToDo: This is very bugged and needs some attention\n\t\t\tif(this.isFullscreen && (e.key === \"F11\" || e.key === \"Escape\")) {\n\t\t\t\tthis.toggleFullscreen();\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n    \t\t}\n\t\t},\n\t\tgetElement() {\n\t\t\tif (typeof this.element === 'string') {\n\t\t\t\treturn document.querySelector(this.element);\n\t\t\t}\n\t\t\telse if (typeof this.element === 'function') {\n\t\t\t\treturn this.element();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.element;\n\t\t\t}\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tlet el = this.getElement();\n\t\t\tif (!this.isFullscreen) {\n\t\t\t\tthis.isFullscreen = true;\n\t\t\t\tel.classList.add('fullscreen');\n\t\t\t\t// Handle z-index to properly show above modals etc.\n\t\t\t\tthis.openModal();\n\t\t\t\tthis.oldZIndex = el.style.zIndex;\n\t\t\t\tel.style.zIndex = this.hightestModalZIndex;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.isFullscreen = false;\n\t\t\t\tel.classList.remove('fullscreen');\n\t\t\t\t// Revert z-index changes\n\t\t\t\tel.style.zIndex = this.oldZIndex;\n\t\t\t\tthis.closeModal();\n\t\t\t}\n\n\t\t\tthis.$emit('changed', this.isFullscreen);\n\t\t\tthis.emit('stopTour');\n\t\t},\n\t}\n};\n</script>\n\n<style>\n.fullscreen {\n\tposition: absolute !important;\n\ttop: 0 !important;\n\tleft: 0 !important;\n\twidth: 100% !important;\n\theight: 100% !important;\n\tbackground-color: white;\n\toverflow: auto;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullscreenButton.vue?vue&type=template&id=ac711f22&\"\nimport script from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\"","import proj4 from 'proj4';\nimport { get as getProjection, transformExtent } from 'ol/proj';\nimport Projection from 'ol/proj/Projection';\nimport { register } from 'ol/proj/proj4';\n\nimport Utils from '../../utils';\n\nexport default class ProjManager {\n\n\tstatic async get(data) {\n\t\tif (data instanceof Projection) {\n\t\t\treturn data;\n\t\t}\n\n\t\treturn await ProjManager._load(data);\n\t}\n\n\tstatic add(code, meta, extent) {\n\t\ttry {\n\t\t\tproj4.defs(code, meta);\n\t\t\tregister(proj4);\n\t\t\tlet projection = getProjection(code);\n\t\t\tif (Array.isArray(extent)) {\n\t\t\t\textent = transformExtent(extent, 'EPSG:4326', projection);\n\t\t\t\tprojection.setExtent(extent);\n\t\t\t}\n\t\t\tif (meta.includes('+datum=WGS84')) {\n\t\t\t\tprojection.basemap = true;\n\t\t\t}\n\t\t\treturn projection;\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Get projection details from STAC (todo: add collection support)\n\tstatic async addFromStac(stac) {\n\t\tif (Utils.isObject(stac) && Utils.isObject(stac.properties)) {\n\t\t\tif (stac.properties['proj:epsg']) {\n\t\t\t\treturn await ProjManager.get(stac.properties['proj:epsg']);\n\t\t\t}\n\t\t\telse if (stac.properties['proj:wkt2']) {\n\t\t\t\treturn ProjManager.add(stac.id, stac.properties['proj:wkt2']);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic async _load(crs) {\n\t\tlet code, id;\n\t\tif (typeof crs === 'string' && crs.match(/^EPSG:\\d+$/i)) {\n\t\t\tcode = crs.toUpperCase();\n\t\t\tid = crs.substr(5);\n\t\t}\n\t\telse if (Number.isInteger(crs)) {\n\t\t\tcode = `EPSG:${crs}`\n\t\t\tid = String(crs);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Get projection from cache\n\t\tlet projection = getProjection(code);\n\t\tif (projection) {\n\t\t\treturn projection;\n\t\t}\n\n\t\t// Get projection from database\n\t\tlet proj = await import('../../assets/epsg-proj.json');\n\t\tif (id in proj) {\n\t\t\treturn ProjManager.add(code, proj[id][0], proj[id][1]);\n\t\t}\n\n\t\t// No projection found\n\t\treturn null;\n\t}\n\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=style&index=1&id=e5b627b0&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"discovery-toolbar\"},[_c('SearchBox',{model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('div',{staticClass:\"search-results\"},[_c('Collections',{staticClass:\"category\",attrs:{\"collections\":_vm.collections,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsLoadCollection},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'collection', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showCollectionInfo(item.id)}}},[_c('strong',{attrs:{\"title\":item.id}},[_vm._v(_vm._s(item.id))]),(item.title)?_c('small',{attrs:{\"title\":item.title}},[_vm._v(_vm._s(item.title))]):_vm._e()]),(_vm.hasCollectionPreview(item))?_c('button',{staticClass:\"discovery-button\",attrs:{\"type\":\"button\",\"title\":\"View on map\"},on:{\"click\":function($event){return _vm.showCollectionPreview(item)}}},[_c('i',{staticClass:\"fas fa-map\"})]):_vm._e()])]}}])}),_c('Processes',{staticClass:\"category\",attrs:{\"processes\":_vm.allProcesses,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'process', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showProcess(item)}}},[(item.namespace === 'user')?_c('i',{staticClass:\"custom-process fas fa-xs fa-sitemap\",attrs:{\"title\":\"Custom Process\"}}):(item.namespace !== 'backend')?_c('i',{staticClass:\"custom-process fas fa-xs fa-tag\",attrs:{\"title\":(\"Process from namespace '\" + (item.namespace) + \"'\")}}):_vm._e(),_c('strong',{attrs:{\"title\":item.id}},[_vm._v(_vm._s(item.id))]),(item.summary)?_c('small',{attrs:{\"title\":item.summary}},[_vm._v(_vm._s(item.summary))]):_vm._e()])])]}}])}),(_vm.hasUdfRuntimes)?_c('UdfRuntimes',{staticClass:\"category\",attrs:{\"runtimes\":_vm.udfRuntimes,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar summary = ref.summary;\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsRunUdf},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'udf', {runtime: summary.identifier, version: item.default})}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showUdfInfo(summary.identifier, item)}}},[_c('strong',{attrs:{\"title\":summary.identifier}},[_vm._v(_vm._s(summary.identifier)+\" (\"+_vm._s(item.default)+\")\")]),(summary.summary)?_c('small',{attrs:{\"title\":summary.summary}},[_vm._v(_vm._s(summary.summary))]):_vm._e()])])]}}],null,false,92063951)}):_vm._e(),_c('FileFormats',{staticClass:\"category\",attrs:{\"formats\":_vm.fileFormats,\"showInput\":false,\"heading\":\"Export File Formats\",\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsSaveResult},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'fileformat', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showFileFormatInfo(item)}}},[_c('strong',{attrs:{\"title\":item.name}},[_vm._v(_vm._s(item.name))]),(item.title)?_c('small',{attrs:{\"title\":item.title}},[_vm._v(_vm._s(item.title))]):_vm._e()])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"discovery-toolbar\">\n\t\t<SearchBox v-model=\"searchTerm\" />\n\t\t<div class=\"search-results\">\n\t\t\t<Collections class=\"category\" :collections=\"collections\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsLoadCollection\" @dragstart=\"onDrag($event, 'collection', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showCollectionInfo(item.id)\">\n\t\t\t\t\t\t\t<strong :title=\"item.id\">{{ item.id }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.title\" :title=\"item.title\">{{ item.title }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button v-if=\"hasCollectionPreview(item)\" class=\"discovery-button\" type=\"button\" @click=\"showCollectionPreview(item)\" title=\"View on map\"><i class=\"fas fa-map\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Collections>\n\n\t\t\t<Processes class=\"category\" :processes=\"allProcesses\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" draggable=\"true\" @dragstart=\"onDrag($event, 'process', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showProcess(item)\">\n\t\t\t\t\t\t\t<i v-if=\"item.namespace === 'user'\" class=\"custom-process fas fa-xs fa-sitemap\" title=\"Custom Process\"></i>\n\t\t\t\t\t\t\t<i v-else-if=\"item.namespace !== 'backend'\" class=\"custom-process fas fa-xs fa-tag\" :title=\"`Process from namespace '${item.namespace}'`\"></i>\n\t\t\t\t\t\t\t<strong :title=\"item.id\">{{ item.id }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.summary\" :title=\"item.summary\">{{ item.summary }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Processes>\n\n\t\t\t<UdfRuntimes v-if=\"hasUdfRuntimes\" class=\"category\" :runtimes=\"udfRuntimes\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ summary, item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsRunUdf\" @dragstart=\"onDrag($event, 'udf', {runtime: summary.identifier, version: item.default})\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showUdfInfo(summary.identifier, item)\">\n\t\t\t\t\t\t\t<strong :title=\"summary.identifier\">{{ summary.identifier }} ({{ item.default }})</strong>\n\t\t\t\t\t\t\t<small v-if=\"summary.summary\" :title=\"summary.summary\">{{ summary.summary }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</UdfRuntimes>\n\n\t\t\t<FileFormats class=\"category\" :formats=\"fileFormats\" :showInput=\"false\" heading=\"Export File Formats\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsSaveResult\" @dragstart=\"onDrag($event, 'fileformat', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showFileFormatInfo(item)\">\n\t\t\t\t\t\t\t<strong :title=\"item.name\">{{ item.name }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.title\" :title=\"item.title\">{{ item.title }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</FileFormats>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport Collections from '@openeo/vue-components/components/Collections.vue';\nimport FileFormats from '@openeo/vue-components/components/FileFormats.vue';\nimport Processes from '@openeo/vue-components/components/Processes.vue';\nimport SearchBox from '@openeo/vue-components/components/SearchBox.vue';\nimport UdfRuntimes from '@openeo/vue-components/components/UdfRuntimes.vue';\n\nexport default {\n\tname: 'DiscoveryToolbar',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tCollections,\n\t\tFileFormats,\n\t\tProcesses,\n\t\tSearchBox,\n\t\tUdfRuntimes\n\t},\n\tprops: {\n\t\tonAddProcess: {\n\t\t\ttype: Function,\n\t\t\trequired: true\n\t\t},\n\t\tcollectionPreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tpersist: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinternalSearchTerm: '',\n\t\t\tcollapsed: true\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['collections', 'udfRuntimes']),\n\t\t...Utils.mapState('editor', ['discoverySearchTerm']),\n\t\t...Utils.mapGetters(['supports', 'collectionDefaults', 'fileFormats', 'processes']),\n\t\tsupportsLoadCollection() {\n\t\t\treturn this.processes.has('load_collection');\n\t\t},\n\t\tsupportsRunUdf() {\n\t\t\treturn this.processes.has('run_udf');\n\t\t},\n\t\tsupportsSaveResult() {\n\t\t\treturn this.processes.has('save_result');\n\t\t},\n\t\thasUdfRuntimes() {\n\t\t\treturn Utils.size(this.udfRuntimes);\n\t\t},\n\t\tallProcesses() {\n\t\t\treturn this.processes.all();\n\t\t},\n\t\tsearchTerm: {\n\t\t\tget() {\n\t\t\t\tif (this.persist) {\n\t\t\t\t\treturn this.discoverySearchTerm;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn this.internalSearchTerm;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tif (this.persist) {\n\t\t\t\t\tthis.setDiscoverySearchTerm(newValue);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.internalSearchTerm = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tsearchTerm: {\n\t\t\timmediate: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (!newVal && oldVal) {\n\t\t\t\t\tthis.collapsed = true;\n\t\t\t\t}\n\t\t\t\telse if (newVal && !oldVal) {\n\t\t\t\t\tthis.collapsed = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['setDiscoverySearchTerm']),\n\t\tonDrag(event, type, data) {\n\t\t\tlet node = this.getNode(type, data);\n\t\t\tevent.dataTransfer.setData(\"application/vnd.openeo-node\", JSON.stringify(node));\n\t\t\tevent.dataTransfer.setData(\"text/plain\", JSON.stringify(node, null, 2));\n\t\t},\n\t\tshowCollectionInfo(id) {\n\t\t\tthis.emit('showCollection', id);\n\t\t},\n\t\thasCollectionPreview(collection) {\n\t\t\treturn Boolean(this.collectionPreview && Utils.getPreviewLinkFromSTAC(collection));\n\t\t},\n\t\tshowCollectionPreview(collection) {\n\t\t\tthis.emit('showCollectionPreview', collection);\n\t\t},\n\t\tshowProcess(process) {\n\t\t\tthis.emit('showProcess', process);\n\t\t},\n\t\tshowUdfInfo(id, data) {\n\t\t\tthis.emit('showModal', 'UdfRuntimeModal', {id, data, version: data.default});\n\t\t},\n\t\tshowFileFormatInfo(format) {\n\t\t\tlet props = {\n\t\t\t\tid: format.name,\n\t\t\t\tformat: this.fileFormats.output[format.name],\n\t\t\t\ttype: \"output\"\n\t\t\t};\n\t\t\tthis.emit('showModal', 'FileFormatModal', props);\n\t\t},\n\t\tgetNode(type, data) {\n\t\t\tswitch(type) {\n\t\t\t\tcase 'collection':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'load_collection',\n\t\t\t\t\t\targuments: this.collectionDefaults(data.id)\n\t\t\t\t\t};\n\t\t\t\tcase 'process':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: data.id,\n\t\t\t\t\t\tnamespace: data.namespace,\n\t\t\t\t\t\targuments: {}\n\t\t\t\t\t};\n\t\t\t\tcase 'udf':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'run_udf',\n\t\t\t\t\t\targuments: data\n\t\t\t\t\t};\n\t\t\t\tcase 'fileformat':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'save_result',\n\t\t\t\t\t\targuments: {format: data.name, options: {}}\n\t\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.search-results h2.heading {\n\tfont-size: 1em;\n\tborder: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tmargin-bottom: 0.5em;\n}\n.search-results .vue-component.searchable-list ul.list > li > summary:before {\n\tcontent: '';\n\tmargin-left: 0;\n\tfloat: none;\n}\n.search-results .vue-component.searchable-list ul.list > li > summary {\n\tmargin: 0;\n\tline-height: inherit;\n}\n.search-results .vue-component.searchable-list ul.list > li {\n\tmargin-bottom: 0;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n@import '../../theme.scss';\n\n.discovery-toolbar {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden; /* to hide .search-box .icon */\n}\n\n.search-results {\n\toverflow-y: auto;\n\tflex-grow: 1;\n}\n\n.category {\n\tpadding: 5px;\n}\n.category strong {\n\tcursor: pointer;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.discovery-entity {\n\tdisplay: flex;\n\tmargin: 0.25em 0;\n\tborder: 1px solid #ddd;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tuser-select: none;\n\tfont-size: 0.9em;\n\n\tstrong {\n\t\tdisplay: block;\n\t\tfont-weight: normal;\n\t\twhite-space: nowrap;\n\t\twidth: 100%;\n\t\toverflow: hidden; \n\t\ttext-overflow: ellipsis;\n\t\tcolor: $linkColor;\n\t}\n\n\tsmall {\n\t\tmargin-top: 0.25em;\n\t\tdisplay: block;\n\t}\n\n\t.discovery-info {\n\t\tflex-grow: 1;\n\t\tpadding: 5px;\n\t\twidth: 100%;\n\t\toverflow: hidden; \n\t\tposition: relative;\n\n\t\t&:hover {\n\t\t\tbackground-color: #eee;\n\n\t\t\tstrong {\n\t\t\t\tcolor: #000;\n\t\t\t}\n\t\t}\n\t}\n\n\t.discovery-button {\n\t\tdisplay: block;\n\t\tmargin: 0;\n\t\tpadding: 5px;\n\t\tbackground-color: #fff;\n\t\tcolor: #aaa;\n\t\tborder: 0;\n\t\tborder-left: 1px solid #ddd;\n\n\t\t&:hover {\n\t\t\tbackground-color: #eee;\n\t\t\tcolor: #000;\n\t\t}\n\t}\n\n\t.custom-process {\n\t\tposition: absolute;\n\t\ttop: 7px;\n\t\tright: 5px;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiscoveryToolbar.vue?vue&type=template&id=e5b627b0&scoped=true&\"\nimport script from \"./DiscoveryToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./DiscoveryToolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiscoveryToolbar.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./DiscoveryToolbar.vue?vue&type=style&index=1&id=e5b627b0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5b627b0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",staticClass:\"editor\",attrs:{\"id\":\"customProcessContent\",\"position\":\"bottom\"}},[_c('Tab',{attrs:{\"id\":\"visual\",\"name\":\"Visual Model\",\"icon\":\"fa-project-diagram\",\"selected\":true,\"allowShow\":_vm.canSwitchView},on:{\"show\":_vm.showModel}},[_c('VisualEditor',{ref:\"graphBuilder\",staticClass:\"visualEditorTab\",attrs:{\"editable\":_vm.editable,\"parent\":_vm.parent,\"parentSchema\":_vm.parentSchema,\"value\":_vm.modelValue,\"title\":_vm.title,\"id\":_vm.id + '_visual',\"showDiscoveryToolbar\":_vm.showDiscoveryToolbar,\"defaultValue\":_vm.defaultValue},on:{\"input\":_vm.commit,\"error\":_vm.onError},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_vm._t(\"file-toolbar\")]},proxy:true},{key:\"toolbar\",fn:function(){return [_vm._t(\"toolbar\")]},proxy:true}],null,true)})],1),_c('Tab',{attrs:{\"id\":\"source\",\"name\":\"Code\",\"icon\":\"fa-code\",\"allowShow\":_vm.canSwitchView},on:{\"show\":_vm.showCode}},[_c('TextEditor',{ref:\"sourceEditor\",staticClass:\"textEditorTab\",attrs:{\"editable\":_vm.editable,\"value\":_vm.codeValue,\"title\":_vm.title,\"id\":_vm.id + '_text',\"language\":\"processgraph\"},on:{\"input\":_vm.commit,\"error\":_vm.onError},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_vm._t(\"file-toolbar\")]},proxy:true},{key:\"toolbar\",fn:function(){return [_vm._t(\"toolbar\")]},proxy:true}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"visualEditor\",staticClass:\"visualEditor\"},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('strong',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]),_vm._t(\"file-toolbar\")],2):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.$refs.blocks.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.$refs.blocks.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.hasSelection,\"title\":\"Delete selected elements\"},on:{\"click\":function($event){return _vm.$refs.blocks.deleteSelected()}}},[_c('i',{staticClass:\"fas fa-trash\"})])]):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[(!_vm.parent)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"Edit Process Metadata\"},on:{\"click\":function () { return _vm.editProcess(_vm.value); }}},[_c('i',{staticClass:\"fas fa-edit\"})]):_vm._e(),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Add Parameter\"},on:{\"click\":_vm.addParameter}},[_c('i',{staticClass:\"fas fa-parking\"})]),(_vm.supportsMath)?_c('button',{class:{highlightFormula: _vm.isMath},attrs:{\"type\":\"button\",\"title\":\"Insert/Edit formula\"},on:{\"click\":_vm.showExpressionModal}},[_c('i',{staticClass:\"fas fa-square-root-alt\"})]):_vm._e()]):_vm._e(),_c('button',{class:{compactMode: _vm.compactMode},attrs:{\"type\":\"button\",\"title\":\"Compact Mode\"},on:{\"click\":function($event){return _vm.$refs.blocks.toggleCompact()}}},[_c('i',{staticClass:\"fas fa-compress-arrows-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Scale to perfect size\"},on:{\"click\":function($event){return _vm.$refs.blocks.perfectScale()}}},[_c('i',{staticClass:\"fas fa-arrows-alt\"})]),_c('FullscreenButton',{attrs:{\"element\":function () { return this$1.$refs.visualEditor; }},on:{\"changed\":function (enabled) {this$1.$refs.blocks.perfectScale(); _vm.isFullScreen = enabled}}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"editorSplitter\"},[((_vm.showDiscoveryToolbar || _vm.isFullScreen) && _vm.editable)?_c('DiscoveryToolbar',{staticClass:\"discoveryToolbar\",attrs:{\"onAddProcess\":_vm.insertProcess}}):_vm._e(),_c('div',{staticClass:\"graphBuilder\",on:{\"drop\":_vm.onDrop,\"dragover\":_vm.allowDrop}},[_c('ModelBuilder',{ref:\"blocks\",attrs:{\"editable\":_vm.editable,\"id\":_vm.id,\"processes\":_vm.processes,\"collections\":_vm.collections,\"parent\":_vm.parent,\"parentSchema\":_vm.parentSchema,\"value\":_vm.value},on:{\"input\":_vm.commit,\"error\":_vm.errorHandler,\"showProcess\":function (id, namespace) { return _vm.emit('showProcess', {id: id, namespace: namespace}); },\"showCollection\":function (id) { return _vm.emit('showCollection', id); },\"showParameter\":function (param) { return _vm.emit('showProcessParameter', param); },\"editParameter\":_vm.editParameter,\"editArguments\":_vm.openArgumentEditor,\"compactMode\":function (compact) { return this$1.compactMode = compact; },\"selectionChanged\":_vm.selectionChanged,\"historyChanged\":_vm.historyChanged}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"visualEditor\" ref=\"visualEditor\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<strong v-if=\"title\">{{ title }}</strong>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.deleteSelected()\" :disabled=\"!hasSelection\" title=\"Delete selected elements\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" v-if=\"!parent\" @click=\"() => editProcess(value)\" title=\"Edit Process Metadata\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"addParameter\" title=\"Add Parameter\"><i class=\"fas fa-parking\"></i></button>\n\t\t\t\t\t<button type=\"button\" v-if=\"supportsMath\" :class=\"{highlightFormula: isMath}\" @click=\"showExpressionModal\" title=\"Insert/Edit formula\"><i class=\"fas fa-square-root-alt\"></i></button>\n\t\t\t\t</span>\n\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.toggleCompact()\" :class=\"{compactMode: compactMode}\" title=\"Compact Mode\"><i class=\"fas fa-compress-arrows-alt\"></i></button>\n\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.perfectScale()\" title=\"Scale to perfect size\"><i class=\"fas fa-arrows-alt\"></i></button>\n\t\t\t\t<FullscreenButton :element=\"() => this.$refs.visualEditor\" @changed=\"enabled => {this.$refs.blocks.perfectScale(); isFullScreen = enabled}\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"editorSplitter\">\n\t\t\t<DiscoveryToolbar v-if=\"(showDiscoveryToolbar || isFullScreen) && editable\" class=\"discoveryToolbar\" :onAddProcess=\"insertProcess\" />\n\t\t\t<div class=\"graphBuilder\" @drop=\"onDrop\" @dragover=\"allowDrop\">\n\t\t\t\t<ModelBuilder\n\t\t\t\t\tref=\"blocks\"\n\t\t\t\t\t:editable=\"editable\"\n\t\t\t\t\t:id=\"id\"\n\t\t\t\t\t:processes=\"processes\"\n\t\t\t\t\t:collections=\"collections\"\n\t\t\t\t\t:parent=\"parent\"\n\t\t\t\t\t:parentSchema=\"parentSchema\"\n\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t@input=\"commit\"\n\t\t\t\t\t@error=\"errorHandler\"\n\t\t\t\t\t@showProcess=\"(id, namespace) => emit('showProcess', {id, namespace})\"\n\t\t\t\t\t@showCollection=\"id => emit('showCollection', id)\"\n\t\t\t\t\t@showParameter=\"param => emit('showProcessParameter', param)\"\n\t\t\t\t\t@editParameter=\"editParameter\"\n\t\t\t\t\t@editArguments=\"openArgumentEditor\"\n\t\t\t\t\t@compactMode=\"compact => this.compactMode = compact\"\n\t\t\t\t\t@selectionChanged=\"selectionChanged\"\n\t\t\t\t\t@historyChanged=\"historyChanged\"\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ModelBuilder from '@openeo/vue-components/components/ModelBuilder.vue';\nimport Utils from '../utils.js';\nimport DiscoveryToolbar from './DiscoveryToolbar.vue';\nimport EventBusMixin from './EventBusMixin.vue';\nimport FullscreenButton from './FullscreenButton.vue';\nimport { ProcessParameter } from '@openeo/js-commons';\nimport JavaScript from '../export/javascript';\n\nexport default {\n\tname: 'VisualEditor',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tModelBuilder,\n\t\tDiscoveryToolbar,\n\t\tFullscreenButton\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t},\n\t\tparent: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tparentSchema: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tshowDiscoveryToolbar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tdefaultValue: {}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection', 'collections']),\n\t\t...Utils.mapGetters(['processes', 'supportsMath']),\n\t\t...Utils.mapState('editor', ['initialNode']),\n\t\tisMath() {\n\t\t\treturn (this.supportsMath && this.processes.isMath(this.value));\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\tcompactMode: false,\n\t\t\thasSelection: false,\n\t\t\tformula: null,\n\t\t\tisFullScreen: false\n\t\t};\n\t},\n\twatch: {\n\t\tvalue: {\n\t\t\timmediate: true,\n\t\t\thandler(value) {\n\t\t\t\tif (this.initialNode && Utils.isObject(value) && Utils.isObject(value.process_graph)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet node = this.initialNode;\n\t\t\t\t\t\tif (node == \"1\" && Utils.size(value.process_graph)) {\n\t\t\t\t\t\t\tnode = Object.keys(value.process_graph)[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.openArgumentEditorForNode(node);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tUtils.exception(this, error);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis.setInitialNode(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['setInitialNode']),\n\t\tcommit(value) {\n\t\t\t// Fix #115: Return the default value/null if no nodes are given\n\t\t\tif (typeof this.defaultValue !== 'undefined' && Utils.isObject(value) && Utils.size(value.process_graph) === 0) {\n\t\t\t\tvalue = this.defaultValue;\n\t\t\t}\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\terrorHandler(message, title = null) {\n\t\t\tUtils.exception(this, message, title)\n\t\t},\n\t\tselectionChanged(blocks, edges) {\n\t\t\tthis.hasSelection = Boolean(blocks.filter(block => block.$el.allowsDelete).length || edges.length);\n\t\t},\n\t\thistoryChanged(history, index) {\n\t\t\tthis.canUndo = !!history[index-1];\n\t\t\tthis.canRedo = !!history[index+1];\n\t\t},\n\t\tallowDrop(event) {\n\t\t\tevent.preventDefault();\n\t\t},\n\t\tonDrop(event) {\n\t\t\tvar editorNodeJson = event.dataTransfer.getData(\"application/vnd.openeo-node\");\n\t\t\tif (editorNodeJson) {\n\t\t\t\tlet node = JSON.parse(editorNodeJson);\n\t\t\t\tthis.insertProcess(node, event.pageX, event.pageY);\n\t\t\t\treturn event.preventDefault();\n\t\t\t}\n\n\t\t\t// Read a JSON file that has been dropped\n\t\t\tlet files = event.dataTransfer.files;\n\t\t\tif (files.length === 1) {\n\t\t\t\tlet file = event.dataTransfer.files[0];\n\t\t\t\tif (file.type === 'application/json') {\n\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\treader.onload = async e => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet process = JSON.parse(e.target.result);\n\t\t\t\t\t\t\tawait this.$refs.blocks.import(process);\n\t\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\t\tUtils.exception(this, error, \"Parsing JSON file failed\");\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\treader.onerror = error => Utils.exception(this, error, \"Reading JSON file failed\");\n\t\t\t\t\treader.readAsText(file, \"UTF-8\");\n\t\t\t\t\treturn event.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetNameField(value = undefined, name = \"name\") {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname,\n\t\t\t\tdescription: 'A unique identifier. Must contain only letters (`a`-`z`), digits (`0`-`9`) and underscores (`_`). `snake_case` is recommended.',\n\t\t\t\tlabel: 'Name',\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tpattern: '^\\\\w+$'\n\t\t\t\t},\n\t\t\t\tdefault: null\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = undefined, optional = false, name = \"description\", label = \"Description\") {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname,\n\t\t\t\tdescription: 'Provides a detailed description. CommonMark (Markdown) syntax can be used for rich text formatting.',\n\t\t\t\tlabel,\n\t\t\t\toptional,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsubtype: 'commonmark'\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgetOptionalField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'optional',\n\t\t\t\tlabel: 'Optional',\n\t\t\t\tdescription: 'Parameters by default are required. CHeck this option to make the parameter optional. For optional parameters a default value should be specified.',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'boolean'\n\t\t\t\t},\n\t\t\t\tdefault: false\n\t\t\t};\n\t\t},\n\t\tgetDefaultField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'default',\n\t\t\t\tlabel: 'Default Value',\n\t\t\t\tdescription: 'This value is used whenever the user of this process did not specify a value for this parameter.',\n\t\t\t\ttoggledBy: 'optional',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {}\n\t\t\t};\n\t\t},\n\t\tgetExperimentalField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'experimental',\n\t\t\t\tlabel: 'Experimental',\n\t\t\t\tdescription: 'Declares that this is experimental, which means that it is unstable and likely to change.',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'boolean'\n\t\t\t\t},\n\t\t\t\tdefault: false\n\t\t\t};\n\t\t},\n\t\tgetDeprecatedField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: 'deprecated',\n\t\t\t\tlabel: 'Deprecated',\n\t\t\t\tdescription: 'Declares that this is deprecated with the potential to be removed in any of the next versions. It should be transitioned out of usage.',\n\t\t\t\toptional: true,\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'boolean'\n\t\t\t\t},\n\t\t\t\tdefault: false\n\t\t\t};\n\t\t},\n\t\tgetSchemaField(value = undefined, name = \"schema\", label = \"Data Types\") {\n\t\t\tlet subtype = !value ? 'openeo-datatype' : 'json-schema';\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname,\n\t\t\t\tlabel,\n\t\t\t\tdescription: 'Allowed data type(s) as JSON Schema.',\n\t\t\t\tschema: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Single data type',\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tsubtype\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Multiple data types',\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\tminItems: 2,\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tsubtype\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\teditProcess(process) {\n\t\t\tprocess = Utils.isObject(process) ? process : {};\n\t\t\tlet returns = Utils.isObject(process.returns) ? process.returns : {};\n\t\t\tvar fields = [\n\t\t\t\tthis.getNameField(process.id, 'id'),\n\t\t\t\t{\n\t\t\t\t\tvalue: process.summary,\n\t\t\t\t\tname: 'summary',\n\t\t\t\t\tdescription: 'A very short description of the process with usually less than 60 characters.',\n\t\t\t\t\tlabel: 'Summary',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis.getDescriptionField(process.description, true),\n\t\t\t\t{\n\t\t\t\t\tvalue: process.categories,\n\t\t\t\t\tname: 'categories',\n\t\t\t\t\tlabel: 'Categories',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tthis.getExperimentalField(process.experimental),\n\t\t\t\tthis.getDeprecatedField(process.deprecated),\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Parameters',\n\t\t\t\t\tdescription: 'The parameters can be edited directly in the \"Visual Model\" interface.',\n\t\t\t\t\tinfo: true\n\t\t\t\t},\n\t\t\t\tthis.getDescriptionField(returns.description, true, 'returns_description', 'Return Value > Description'),\n\t\t\t\tthis.getSchemaField(returns.schema, 'returns_schema', 'Return Value > Data Type'),\n\t\t\t\t{\n\t\t\t\t\tvalue: process.exceptions,\n\t\t\t\t\tname: 'exceptions',\n\t\t\t\t\tdescription: 'Declares exceptions (errors) that might occur during execution of this process. This list is just for informative purposes.\\n\\nThe keys of the object are the error codes, which should only consist of alphanumerical characters. `PascalCase` is recommended.',\n\t\t\t\t\tlabel: 'Errors',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tadditionalProperties: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"message\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\t\t\ttitle: 'Error Message',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\ttitle: 'Description',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tsubtype: 'commonmark'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thttp: {\n\t\t\t\t\t\t\t\t\ttitle: 'HTTP Status Code',\n\t\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\t\tenum: [\n\t\t\t\t\t\t\t\t\t\t400,\n\t\t\t\t\t\t\t\t\t\t500,\n\t\t\t\t\t\t\t\t\t\t501\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: process.examples,\n\t\t\t\t\tname: 'examples',\n\t\t\t\t\tlabel: 'Examples',\n\t\t\t\t\tdescription: 'Example calls for this process with specific values for the parameters (arguments) and the result (return value).',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"arguments\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\ttitle: 'Title',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\ttitle: 'Description',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tsubtype: 'commonmark'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\targuments: {\n\t\t\t\t\t\t\t\t\ttitle: 'Arguments',\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tdefault: {}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\treturns: {\n\t\t\t\t\t\t\t\t\ttitle: 'Return Value'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: process.links,\n\t\t\t\t\tname: 'links',\n\t\t\t\t\tlabel: 'Links',\n\t\t\t\t\tdescription: 'Links related to this process, e.g. additional documentation.',\n\t\t\t\t\toptional: true,\n\t\t\t\t\tschema: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: [\n\t\t\t\t\t\t\t\t\"href\",\n\t\t\t\t\t\t\t\t\"rel\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\thref: {\n\t\t\t\t\t\t\t\t\ttitle: 'URL',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\trel: {\n\t\t\t\t\t\t\t\t\ttitle: 'Relation',\n\t\t\t\t\t\t\t\t\tdescription: 'For examples see [IANA relation types](https://www.iana.org/assignments/link-relations/link-relations.xhtml)',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdefault: 'about'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\ttitle: 'Title',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttype: {\n\t\t\t\t\t\t\t\t\ttitle: 'Media Type',\n\t\t\t\t\t\t\t\t\tdescription: 'For examples see [IANA media types](https://www.iana.org/assignments/media-types/media-types.xhtml)',\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Edit Process\", fields, async data => {\n\t\t\t\tlet newData = Utils.pickFromObject(data, ['id', 'summary', 'description', 'categories', 'experimental', 'deprecated', 'exception', 'examples', 'links']);\n\t\t\t\tif (typeof newData.description === 'string' || Utils.isObject(newData.schema)) {\n\t\t\t\t\tnewData.returns = {\n\t\t\t\t\t\tdescription: data.returns_description,\n\t\t\t\t\t\tschema: data.returns_schema\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet process = this.$refs.blocks.export(true);\n\t\t\t\tlet newProcess = Object.assign({}, process, newData);\n\t\t\t\tconst defaults = {\n\t\t\t\t\tid: \"\",\n\t\t\t\t\tsummary: \"\",\n\t\t\t\t\tdescription: \"\",\n\t\t\t\t\tcategories: [],\n\t\t\t\t\texperimental: false,\n\t\t\t\t\tdeprecated: false,\n\t\t\t\t\texamples: [],\n\t\t\t\t\tlinks: [],\n\t\t\t\t\tprocess_graph: {},\n\t\t\t\t};\n\t\t\t\t// Clean up some defaults / empty values\n\t\t\t\tfor(let key in defaults) {\n\t\t\t\t\tif (Utils.equals(defaults[key], newProcess[key])) {\n\t\t\t\t\t\tdelete newProcess[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.commit(newProcess);\n\t\t\t});\n\t\t},\n\t\taddParameter() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getNameField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.getOptionalField(),\n\t\t\t\tthis.getDefaultField(),\n\t\t\t\tthis.getExperimentalField(),\n\t\t\t\tthis.getDeprecatedField(),\n\t\t\t\tthis.getSchemaField()\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Add Parameter\", fields, async data => {\n\t\t\t\tif (typeof data.name === 'string' && data.name.length > 0) {\n\t\t\t\t\tawait this.$refs.blocks.addPgParameter(data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\teditParameter(parameter, title = \"Edit Parameter\", saveCallback = null) {\n\t\t\tvar fields = [\n\t\t\t\tthis.getNameField(parameter.name),\n\t\t\t\tthis.getDescriptionField(parameter.description),\n\t\t\t\tthis.getOptionalField(parameter.optional),\n\t\t\t\tthis.getDefaultField(parameter.default),\n\t\t\t\tthis.getExperimentalField(parameter.experimental),\n\t\t\t\tthis.getDeprecatedField(parameter.deprecated),\n\t\t\t\tthis.getSchemaField(parameter.schema)\n\t\t\t];\n\t\t\tthis.emit('showDataForm', title, fields, saveCallback);\n\t\t},\n\t\tshowExpressionModal() {\n\t\t\tlet js = new JavaScript(this.value, this.processes, this.connection, true);\n\t\t\tjs.setCallbackParameters(this.$refs.blocks.getPgParameters().map(block => block.spec));\n\t\t\ttry {\n\t\t\t\tjs.parse();\n\t\t\t\tlet props = {\n\t\t\t\t\tprocess: js\n\t\t\t\t};\n\t\t\t\tlet events = {\n\t\t\t\t\tsave: this.insertNodes\n\t\t\t\t};\n\t\t\t\tthis.emit('showModal', 'ExpressionModal', props, events);\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\topenArgumentEditorForNode(nodeId) {\n\t\t\tlet process = Utils.deepClone(this.value);\n\t\t\tlet node = process.process_graph[nodeId];\n\t\t\tlet processSpec = this.processes.get(node.process_id, node.namespace);\n\t\t\tthis.openArgumentEditor(\n\t\t\t\tprocessSpec.parameters.map(p => new ProcessParameter(p)).filter(p => p.isEditable()),\n\t\t\t\tnode.arguments,\n\t\t\t\tprocessSpec.id,\n\t\t\t\ttrue,\n\t\t\t\tnull,\n\t\t\t\tdata => {\n\t\t\t\t\tObject.assign(node, {arguments: data});\n\t\t\t\t\tthis.commit(process);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\topenArgumentEditor(parameters, data, title = \"Edit\", editable = true, selectParameterName = null, saveCallback = null, parent = null) {\n\t\t\tlet props = {\n\t\t\t\ttitle,\n\t\t\t\tparameters,\n\t\t\t\tdata,\n\t\t\t\teditable,\n\t\t\t\tselectParameterName,\n\t\t\t\tparent\n\t\t\t};\n\t\t\tlet events = {};\n\t\t\tif (typeof saveCallback === 'function') {\n\t\t\t\tevents.save = saveCallback;\n\t\t\t}\n\t\t\tthis.emit('showModal', 'ParameterModal', props, events);\n\t\t},\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing model?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t},\n\t\tclear() {\n\t\t\tif (this.$refs.blocks) {\n\t\t\t\tthis.$refs.blocks.clear();\n\t\t\t}\n\t\t\tthis.commit(null);\n\t\t},\n\t\tinsertProcess(node, x = null, y = null) {\n\t\t\ttry {\n\t\t\t\tvar pos = this.$refs.blocks.getPositionForPageXY(x, y);\n\t\t\t\tlet namespace = node.namespace;\n\t\t\t\tif (namespace === 'backend' || namespace === 'user') {\n\t\t\t\t\tnamespace = null;\n\t\t\t\t}\n\t\t\t\tthis.$refs.blocks.addProcess(node.process_id, node.arguments, pos, namespace);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tasync insertNodes(nodes, replace = false) {\n\t\t\treturn await this.$refs.blocks.import({\n\t\t\t\tprocess_graph: nodes\n\t\t\t}, {\n\t\t\t\tclear: replace\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.visualEditor {\n\tbackground-color: white;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.visualEditor .vue-component.model-builder {\n\tmin-height: 100px;\n\tmin-width: 100px;\n}\n\n.visualEditor .editorSplitter {\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n.visualEditor .discoveryToolbar {\n\twidth: 25%;\n\tmin-width: 150px;\n\tborder-left: 1px solid #ddd;\n}\n.visualEditor.fullscreen .discoveryToolbar {\n\twidth: 15%;\n\tmin-width: 250px;\n}\n\n.graphBuilder {\n\theight: 100%;\n\tflex-grow: 1;\n}\n\n.visualEditor.fullscreen {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.visualEditor.fullscreen .editorSplitter {\n\theight: 100%;\n}\n\n.compactMode {\n\tcolor: green;\n}\n\n@keyframes glowing {\n  0% {\n    box-shadow: 0 0 3px green;\n  }\n  50% {\n    box-shadow: 0 0 10px green;\n  }\n  100% {\n    box-shadow: 0 0 3px green;\n  }\n}\n\n.highlightFormula {\n    animation: glowing 1500ms infinite;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisualEditor.vue?vue&type=template&id=161fe350&\"\nimport script from \"./VisualEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./VisualEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VisualEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs class=\"editor\" ref=\"tabs\" id=\"customProcessContent\" position=\"bottom\">\n\t\t<Tab id=\"visual\" name=\"Visual Model\" icon=\"fa-project-diagram\" :selected=\"true\" :allowShow=\"canSwitchView\" @show=\"showModel\">\n\t\t\t<VisualEditor class=\"visualEditorTab\" ref=\"graphBuilder\" :editable=\"editable\" :parent=\"parent\" :parentSchema=\"parentSchema\" :value=\"modelValue\" @input=\"commit\" @error=\"onError\" :title=\"title\" :id=\"id + '_visual'\" :showDiscoveryToolbar=\"showDiscoveryToolbar\" :defaultValue=\"defaultValue\">\n\t\t\t\t<template #file-toolbar><slot name=\"file-toolbar\"></slot></template>\n\t\t\t\t<template #toolbar><slot name=\"toolbar\"></slot></template>\n\t\t\t</VisualEditor>\n\t\t</Tab>\n\t\t<Tab id=\"source\" name=\"Code\" icon=\"fa-code\" :allowShow=\"canSwitchView\" @show=\"showCode\">\n\t\t\t<TextEditor class=\"textEditorTab\" ref=\"sourceEditor\" :editable=\"editable\" :value=\"codeValue\" @input=\"commit\" @error=\"onError\" :title=\"title\" :id=\"id + '_text'\" language=\"processgraph\">\n\t\t\t\t<template #file-toolbar><slot name=\"file-toolbar\"></slot></template>\n\t\t\t\t<template #toolbar><slot name=\"toolbar\"></slot></template>\n\t\t\t</TextEditor>\n\t\t</Tab>\n\t</Tabs>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport VisualEditor from './VisualEditor.vue';\nimport TextEditor from './TextEditor.vue';\n\nexport default {\n\tname: 'Editor',\n\tcomponents: {\n\t\tVisualEditor,\n\t\tTextEditor,\n\t\tTabs,\n\t\tTab\n\t},\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\tdefault: () => `editor_${Date.now()}`\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tparent: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tparentSchema: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t},\n\t\tshowDiscoveryToolbar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tdefaultValue: {}\n\t},\n\twatch: {\n\t\tvalue() {\n\t\t\tthis.updateTab();\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodelValue: null,\n\t\t\tcodeValue: null,\n\t\t\terror: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.updateTab();\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['loadProcess']),\n\t\tshowModel() {\n\t\t\tthis.error = null;\n\t\t\tthis.modelValue = this.value;\n\t\t},\n\t\tshowCode() {\n\t\t\tthis.error = null;\n\t\t\tthis.codeValue = this.value;\n\t\t\tthis.$refs.sourceEditor.updateState();\n\t\t},\n\t\tupdateTab() {\n\t\t\tif (this.$refs.tabs.getActiveTabId() === 'source') {\n\t\t\t\tthis.showCode();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.showModel();\n\t\t\t}\n\t\t},\n\t\tcommit(value) {\n\t\t\tthis.error = null;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tonError(error) {\n\t\t\tthis.error = error;\n\t\t},\n\t\tactiveEditor() {\n\t\t\tif (this.$refs.tabs.getActiveTabId() === 'source') {\n\t\t\t\treturn this.$refs.sourceEditor;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.$refs.graphBuilder;\n\t\t\t}\n\t\t},\n\t\tasync insertProcess(node) {\n\t\t\ttry {\n\t\t\t\tawait this.loadProcess({id: node.process_id, namespace: node.namespace});\n\t\t\t\tthis.activeEditor().insertProcess(node);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tcanSwitchView() {\n\t\t\tif (this.editable && this.error !== null) {\n\t\t\t\tUtils.exception(this, this.error, 'Process Invalid Error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.editor {\n\t&.vue-component.tabs.boxed > .tabsBody > .tabContent {\n\t\toverflow: hidden;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=c197c472&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('div',{class:{authenticated: _vm.isAuthenticated},attrs:{\"id\":\"ide\"}},[_c('header',{staticClass:\"navbar\"},[_c('Logo'),_c('ul',{attrs:{\"id\":\"menu\"}},[_c('li',[_c('div',{staticClass:\"menuItem\",attrs:{\"title\":\"Start a guided tour\"},on:{\"click\":_vm.showHelp}},[_c('i',{staticClass:\"fas fa-question fa-fw\"}),_vm._v(\" Help\")])]),_c('li',[_c('div',{staticClass:\"menuItem\",attrs:{\"title\":\"Get server information\"},on:{\"click\":_vm.showServerInfo}},[_c('i',{staticClass:\"fas fa-info fa-fw\"}),_vm._v(\" Server\")])]),_c('li',[_c('UserMenu')],1)])],1),_c('Splitpanes',{staticClass:\"default-theme\",on:{\"resize\":_vm.resized,\"pane-maximize\":_vm.resized}},[_c('Pane',{attrs:{\"id\":\"discovery\",\"size\":_vm.splitpaneSizeH[0]}},[_c('DiscoveryToolbar',{staticClass:\"toolbar tour-ide-discovery\",attrs:{\"onAddProcess\":_vm.insertProcess,\"collectionPreview\":true,\"persist\":true}})],1),_c('Pane',{attrs:{\"id\":\"workspace\",\"size\":_vm.splitpaneSizeH[1]}},[_c('Splitpanes',{staticClass:\"default-theme\",attrs:{\"horizontal\":\"\"},on:{\"resize\":_vm.resized,\"pane-maximize\":_vm.resized}},[_c('Pane',{attrs:{\"id\":\"editor\",\"size\":_vm.splitpaneSizeV[0]}},[_c('Editor',{ref:\"editor\",staticClass:\"mainEditor tour-ide-editor\",attrs:{\"id\":\"main\",\"value\":_vm.process,\"title\":_vm.contextTitle},on:{\"input\":_vm.updateEditor},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_c('button',{attrs:{\"type\":\"button\",\"title\":\"Import process from external source\"},on:{\"click\":_vm.importProcess}},[_c('i',{staticClass:\"fas fa-cloud-download-alt\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveSupported),expression:\"saveSupported\"}],attrs:{\"type\":\"button\",\"disabled\":!_vm.hasProcess,\"title\":'Save to ' + _vm.contextTitle},on:{\"click\":_vm.saveProcess}},[_c('i',{staticClass:\"fas fa-save\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.hasProcess,\"title\":\"Export into another programming language\"},on:{\"click\":_vm.exportCode}},[_c('i',{staticClass:\"fas fa-file-export\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validateSupported),expression:\"validateSupported\"}],attrs:{\"type\":\"button\",\"disabled\":!_vm.hasProcess,\"title\":\"Validate process on server-side\"},on:{\"click\":_vm.validateProcess}},[_c('i',{staticClass:\"fas fa-tasks\"})])]},proxy:true}])})],1),_c('Pane',{attrs:{\"id\":\"user\",\"size\":_vm.splitpaneSizeV[1]}},[(_vm.isAuthenticated)?_c('UserWorkspace',{staticClass:\"userContent tour-ide-workspace\"}):_c('div',{staticClass:\"message info\",attrs:{\"title\":\"Login is required to interact with the server.\"}},[_c('i',{staticClass:\"fas fa-sign-in-alt\"}),_c('span',{staticClass:\"login-message\"},[_c('strong',[_c('a',{on:{\"click\":_vm.login}},[_vm._v(\"Log in\")])]),_vm._v(\" is required to interact with the server.\")])])],1)],1)],1),_c('Pane',{class:{empty: !_vm.showViewer},attrs:{\"id\":\"viewer\",\"size\":_vm.splitpaneSizeH[2]}},[_c('Viewer',{staticClass:\"tour-ide-viewer\",on:{\"empty\":_vm.onViewerEmpty}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"UserMenu\"}},[_c('div',{staticClass:\"menuItem\"},[_vm._m(0),_c('div',{staticClass:\"data\"},[_c('span',{staticClass:\"name nowrap\"},[_c('i',{staticClass:\"fas fa-user\"}),_vm._v(\" \"+_vm._s(_vm.userName))]),(_vm.budget)?_c('span',{staticClass:\"credits nowrap\"},[_c('i',{staticClass:\"fas fa-dollar-sign fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.budget))]):_vm._e(),(_vm.hasStorage)?_c('span',{staticClass:\"storage nowrap\"},[_c('i',{staticClass:\"fas fa-database fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.storageUsedPercent)+\"% used\")]):_vm._e()])]),_c('div',{staticClass:\"dropdown\"},[(_vm.profileLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.profileLink.href,\"target\":\"_blank\"}},[_vm._v(\"Welcome, \"+_vm._s(_vm.userName)+\"!\")]):_c('div',{staticClass:\"item\"},[_vm._v(\"Welcome, \"+_vm._s(_vm.userName)+\"!\")]),(_vm.isAuthenticated)?[(_vm.settingsLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.settingsLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-user-edit\"}),_vm._v(\" \"+_vm._s(_vm.settingsLink.title || 'Edit Profile'))]):_vm._e(),_c('a',{staticClass:\"item\",on:{\"click\":function($event){$event.preventDefault();return _vm.logout.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\" Logout\")])]:[_c('a',{staticClass:\"item\",on:{\"click\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-in-alt\"}),_vm._v(\" Login\")]),(_vm.registerLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.registerLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-user-plus\"}),_vm._v(\" Register\")]):_vm._e(),(_vm.passwordLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.passwordLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-key\"}),_vm._v(\" Forgotten Password?\")]):_vm._e()],(!_vm.$config.serverUrl)?_c('a',{staticClass:\"item\",on:{\"click\":function($event){$event.preventDefault();return _vm.disconnect.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\" Disconnect\")]):_vm._e(),(_vm.userLinks.length > 0)?[_c('hr'),_vm._l((_vm.userLinks),function(link,key){return _c('a',{key:key,staticClass:\"item\",attrs:{\"href\":link.href,\"target\":\"_blank\",\"rel\":link.rel}},[_vm._v(_vm._s(link.title))])})]:_vm._e(),(_vm.budget || _vm.userInfo.default_plan || _vm.paymentLink)?[_c('hr'),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"Billing\")]),(_vm.userInfo.default_plan)?_c('div',{staticClass:\"secondary-text\"},[_vm._v(\"Plan: \"+_vm._s(_vm.userInfo.default_plan))]):_vm._e(),(_vm.budget)?_c('div',{staticClass:\"secondary-text\"},[_vm._v(\"Budget: \"+_vm._s(_vm.budget))]):_vm._e()]),(_vm.paymentLink)?_c('a',{staticClass:\"item\",attrs:{\"href\":_vm.paymentLink.href,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-credit-card\"}),_vm._v(\" \"+_vm._s(_vm.paymentLink.title || 'Recharge'))]):_vm._e()]:_vm._e(),(_vm.hasStorage)?[_c('hr'),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"Storage\")]),_c('div',{staticClass:\"secondary-text nowrap\"},[_vm._v(\"Used \"+_vm._s(_vm.formatMegabyte(_vm.storageUsed))+\" of \"+_vm._s(_vm.formatMegabyte(_vm.userInfo.storage.quota))+\".\")]),_c('div',{staticClass:\"storagePercent\"},[_c('div',{staticClass:\"used\",style:('width: ' + _vm.storageUsedPercent + '%')})])])]:_vm._e()],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"down\"},[_c('i',{staticClass:\"fas fa-chevron-down\"})])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div id=\"UserMenu\">\n\t\t<div class=\"menuItem\">\n\t\t\t<div class=\"down\">\n\t\t\t\t<i class=\"fas fa-chevron-down\"></i>\n\t\t\t</div>\n\t\t\t<div class=\"data\">\n\t\t\t\t<span class=\"name nowrap\"><i class=\"fas fa-user\"></i> {{ userName }}</span>\n\t\t\t\t<span v-if=\"budget\" class=\"credits nowrap\"><i class=\"fas fa-dollar-sign fa-fw\"></i> {{ budget }}</span>\n\t\t\t\t<span v-if=\"hasStorage\" class=\"storage nowrap\"><i class=\"fas fa-database fa-fw\"></i> {{ storageUsedPercent }}% used</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"dropdown\">\n\t\t\t<a v-if=\"profileLink\" class=\"item\" :href=\"profileLink.href\" target=\"_blank\">Welcome, {{ userName }}!</a>\n\t\t\t<div v-else class=\"item\">Welcome, {{ userName }}!</div>\n\t\t\t<template v-if=\"isAuthenticated\">\n\t\t\t\t<a v-if=\"settingsLink\" class=\"item\" :href=\"settingsLink.href\" target=\"_blank\"><i class=\"fas fa-user-edit\"></i> {{ settingsLink.title || 'Edit Profile' }}</a>\n\t\t\t\t<a class=\"item\" @click.prevent=\"logout\"><i class=\"fas fa-sign-out-alt\"></i> Logout</a>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<a class=\"item\" @click.prevent=\"login\"><i class=\"fas fa-sign-in-alt\"></i> Login</a>\n\t\t\t\t<a v-if=\"registerLink\" class=\"item\" :href=\"registerLink.href\" target=\"_blank\"><i class=\"fas fa-user-plus\"></i> Register</a>\n\t\t\t\t<a v-if=\"passwordLink\" class=\"item\" :href=\"passwordLink.href\" target=\"_blank\"><i class=\"fas fa-key\"></i>  Forgotten Password?</a>\n\t\t\t</template>\n\t\t\t<a v-if=\"!$config.serverUrl\" class=\"item\" @click.prevent=\"disconnect\"><i class=\"fas fa-sign-out-alt\"></i> Disconnect</a>\n\t\t\t<template v-if=\"userLinks.length > 0\">\n\t\t\t\t<hr />\n\t\t\t\t<a v-for=\"(link, key) in userLinks\" :key=\"key\" :href=\"link.href\" target=\"_blank\" class=\"item\" :rel=\"link.rel\">{{ link.title }}</a>\n\t\t\t</template>\n\t\t\t<template v-if=\"budget || userInfo.default_plan || paymentLink\">\n\t\t\t\t<hr />\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<h4>Billing</h4>\n\t\t\t\t\t<div v-if=\"userInfo.default_plan\" class=\"secondary-text\">Plan: {{ userInfo.default_plan }}</div>\n\t\t\t\t\t<div v-if=\"budget\" class=\"secondary-text\">Budget: {{ budget }}</div>\n\t\t\t\t</div>\n\t\t\t\t<a v-if=\"paymentLink\" :href=\"paymentLink.href\" class=\"item\" target=\"_blank\"><i class=\"fas fa-credit-card\"></i> {{ paymentLink.title || 'Recharge' }}</a>\n\t\t\t</template>\n\t\t\t<template v-if=\"hasStorage\">\n\t\t\t\t<hr />\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<h4>Storage</h4>\n\t\t\t\t\t<div class=\"secondary-text nowrap\">Used {{ formatMegabyte(storageUsed) }} of {{ formatMegabyte(userInfo.storage.quota) }}.</div>\n\t\t\t\t\t<div class=\"storagePercent\"><div class=\"used\" :style=\"'width: ' + storageUsedPercent + '%'\"></div></div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'UserMenu',\n\tmixins: [EventBusMixin],\n\tcomputed: {\n\t\t...Utils.mapState(['userInfo', 'isAuthenticated']),\n\t\t...Utils.mapGetters(['currency', 'capabilities']),\n\t\tuserLinks() {\n\t\t\treturn Utils.friendlyLinks(this.userInfo.links, true, ['self', 'edit-form', 'payment', 'alternate']);\n\t\t},\n\t\tserverLinks() {\n\t\t\treturn this.capabilities ? this.capabilities.links() : [];\n\t\t},\n\t\tregisterLink() {\n\t\t\treturn this.serverLinks.find(link => link.rel === 'create-form');\n\t\t},\n\t\tpasswordLink() {\n\t\t\treturn this.serverLinks.find(link => link.rel === 'recovery-form');\n\t\t},\n\t\tsettingsLink() {\n\t\t\treturn Array.isArray(this.userInfo.links) ? this.userInfo.links.find(link => link.rel === 'edit-form') : undefined;\n\t\t},\n\t\tpaymentLink() {\n\t\t\treturn Array.isArray(this.userInfo.links) ? this.userInfo.links.find(link => link.rel === 'payment') : undefined;\n\t\t},\n\t\tprofileLink() {\n\t\t\treturn Array.isArray(this.userInfo.links) ? this.userInfo.links.find(link => link.rel === 'alternate') : undefined;\n\t\t},\n\t\thasStorage() {\n\t\t\treturn Utils.isObject(this.userInfo.storage) && typeof this.userInfo.storage.quota === 'number' && typeof this.userInfo.storage.free === 'number';\n\t\t},\n\t\tbudget() {\n\t\t\treturn Utils.formatBudget(this.userInfo.budget, this.currency);\n\t\t},\n\t\tuserName() {\n\t\t\tif (typeof this.userInfo.name === 'string') {\n\t\t\t\treturn this.userInfo.name;\n\t\t\t}\n\t\t\telse if (typeof this.userInfo.user_id === 'string') {\n\t\t\t\treturn this.userInfo.user_id;\n\t\t\t}\n\t\t\telse if (this.isAuthenticated) {\n\t\t\t\treturn 'User';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 'Guest';\n\t\t\t}\n\t\t},\n\t\tstorageUsed() {\n\t\t\tif (!this.hasStorage) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this.userInfo.storage.quota - this.userInfo.storage.free;\n\t\t},\n\t\tstorageUsedPercent() {\n\t\t\tif (!this.hasStorage) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn Math.round(this.storageUsed / this.userInfo.storage.quota * 100);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions({logoutUser: 'logout'}),\n\t\t...Utils.mapMutations('editor', {resetEditor: 'reset'}),\n\t\tasync logout() {\n\t\t\tawait this.logoutUser(false);\n\t\t\tUtils.ok(this, 'Logout successful.');\n\t\t},\n\t\tasync disconnect() {\n\t\t\tawait this.logoutUser(true);\n\t\t\tthis.resetEditor();\n\t\t\twindow.history.pushState({}, \"\", \"?\");\n\t\t},\n\t\tlogin() {\n\t\t\tthis.emit('showLogin');\n\t\t},\n\t\tformatMegabyte(num) {\n\t\t\tvar gb = 1024*1024*1024;\n\t\t\tif (num > gb) {\n\t\t\t\treturn Math.round(num/gb) + ' GB';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Math.round(num/(1024*1024)) + ' MB';\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.down {\n\twidth: 1em;\n\tpadding-right: 10px;\n}\n.name, .credits, .storage {\n\tdisplay: block;\n}\n.name {\n\tmax-width: 250px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.credits, .storage {\n\tmargin-top: 3px;\n\tfont-size: 12px;\n\tfont-weight: normal;\n}\n.storagePercent {\n\tbackground-color: green;\n\theight: 1em;\n\tborder-radius: 0.3em;\n\n\t.used {\n\t\tbackground-color: maroon;\n\t\twidth: 1px;\n\t\theight: 1em;\n\t\tborder-radius: 0.3em;\n\t}\n}\n.secondary-text {\n\tfont-size: 0.9em;\n\tline-height: 1.8em;\n\tcolor: #555;\n}\n.nowrap {\n\twhite-space: nowrap;\n}\nh4 {\n\tmargin: 0 0 10px 0;\n}\n.navButton {\n\tdisplay: block;\n\ttext-align: left;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMenu.vue?vue&type=template&id=76333d38&scoped=true&\"\nimport script from \"./UserMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserMenu.vue?vue&type=style&index=0&id=76333d38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76333d38\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",attrs:{\"id\":\"userContent\"}},[(_vm.showJobs)?_c('Tab',{attrs:{\"id\":\"jobs\",\"name\":\"Data Processing\",\"icon\":\"fa-tasks\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('JobPanel')],1):_vm._e(),(_vm.showServices)?_c('Tab',{attrs:{\"id\":\"services\",\"name\":\"Web Services\",\"icon\":\"fa-cloud\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('ServicePanel')],1):_vm._e(),(_vm.showCustomProcesses)?_c('Tab',{attrs:{\"id\":\"customProcesses\",\"name\":\"Custom Processes\",\"icon\":\"fa-sitemap\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('CustomProcessPanel')],1):_vm._e(),(_vm.showFiles)?_c('Tab',{attrs:{\"id\":\"files\",\"name\":\"Files\",\"icon\":\"fa-file\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('FilePanel')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"FilePanel\"},on:{\"dragenter\":function($event){return _vm.dropZoneInfo(true)},\"dragleave\":function($event){return _vm.dropZoneInfo(false)},\"drop\":function($event){return _vm.uploadFiles($event)},\"dragover\":function($event){return _vm.allowDrop($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUploadDropHint),expression:\"showUploadDropHint\"}],staticClass:\"dropZone\"},[_vm._v(\"To upload files, drop them here.\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],staticClass:\"addFile\"},[_c('input',{ref:\"uploadUserFile\",staticClass:\"uploadUserFile\",attrs:{\"type\":\"file\",\"name\":\"uploadUserFile\",\"multiple\":\"\"},on:{\"change\":_vm.uploadFiles}})]),_c('div',{staticClass:\"percent\"},[_c('div',{staticClass:\"used\",class:{error: _vm.uploadErrored},style:('width: ' + this.uploadProgress + '%; opacity: ' + this.uploadFadeOut)})]),_c('DataTable',{ref:\"table\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){return _vm.downloadFile(p.row)}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteFile(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import DataTable from '@openeo/vue-components/components/DataTable.vue';\nimport Utils from '../utils.js';\n\nexport default (namespace, singular, plural, loadInitially = true) => {\n\treturn {\n\t\tcomponents: {\n\t\t\tDataTable\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcolumns: {},\n\t\t\t\tsyncTimer: null,\n\t\t\t\tlastSyncTime: null\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tif (loadInitially) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\tthis.stopSyncTimer();\n\t\t},\n\t\tcomputed: {\n\t\t\t...Utils.mapState(namespace, {data: namespace}),\n\t\t\t...Utils.mapGetters(namespace, ['supportsList', 'supportsCreate', 'supportsRead', 'supportsUpdate', 'supportsDelete'])\n\t\t},\n\t\tmethods: {\n\t\t\t...Utils.mapActions(namespace, ['list', 'create', 'read', 'update', 'delete']),\n\t\t\tgetTable() { // To be overridden\n\t\t\t\treturn this.$refs && this.$refs.table ? this.$refs.table : null;\n\t\t\t},\n\t\t\tonShow() {\n\t\t\t\tthis.updateData();\n\t\t\t\tthis.startSyncTimer();\n\t\t\t},\n\t\t\tonHide() {\n\t\t\t\tthis.stopSyncTimer();\n\t\t\t},\n\t\t\tstartSyncTimer() {\n\t\t\t\tif (this.supportsList && this.syncTimer === null) {\n\t\t\t\t\tthis.syncTimer = setInterval(this.updateData, this.getSyncInterval());\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopSyncTimer() {\n\t\t\t\tif (this.syncTimer !== null) {\n\t\t\t\t\tclearInterval(this.syncTimer);\n\t\t\t\t\tthis.syncTimer = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetSyncInterval() {\n\t\t\t\treturn this.$config.dataRefreshInterval*60*1000; // Refresh data every x minutes\n\t\t\t},\n\t\t\tasync refreshElement(obj, callback = null) {\n\t\t\t\tvar old = Object.assign({}, obj);\n\t\t\t\ttry {\n\t\t\t\t\tlet updated = await this.read({data: obj});\n\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\tcallback(updated, old);\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {\n\t\t\t\t\tUtils.exception(this, error, \"Load \" + singular + \" error\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync updateData() {\n\t\t\t\tvar table = this.getTable();\n\t\t\t\tvar nextSyncTime = Date.now() - this.getSyncInterval();\n\t\t\t\tif (!table || this.lastSyncTime > nextSyncTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (!this.supportsList) {\n\t\t\t\t\ttable.setNoData(\"Sorry, listing stored \" + plural + \" is not supported by the server.\");\n\t\t\t\t}\n\t\t\t\telse if (!this.supportsCreate) {\n\t\t\t\t\ttable.setNoData(\"Sorry, this feature is not supported by the server.\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar isUpdate = this.data.length > 0;\n\t\t\t\t\tif (!isUpdate) {\n\t\t\t\t\t\ttable.setNoData(\"Loading \" + plural + \"...\");\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastSyncTime = Date.now();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet data = await this.list();\n\t\t\t\t\t\tif(data.length == 0) {\n\t\t\t\t\t\t\ttable.setNoData(\"Add your first \" + singular + \" here...\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\tif (!isUpdate) {\n\t\t\t\t\t\t\tUtils.exception(this, error);\n\t\t\t\t\t\t\ttable.setNoData(\"Sorry, unable to load data from the server.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}","<template>\n\t<div id=\"FilePanel\" @dragenter=\"dropZoneInfo(true)\" @dragleave=\"dropZoneInfo(false)\" @drop=\"uploadFiles($event)\" @dragover=\"allowDrop($event)\">\n\t\t<div class=\"dropZone\" v-show=\"showUploadDropHint\">To upload files, drop them here.</div>\n\t\t<div v-show=\"supportsCreate\" class=\"addFile\">\n\t\t\t<input type=\"file\" name=\"uploadUserFile\" class=\"uploadUserFile\" ref=\"uploadUserFile\" @change=\"uploadFiles\" multiple>\n\t\t</div>\n\t\t<div class=\"percent\"><div class=\"used\" :class=\"{error: uploadErrored}\" :style=\"'width: ' + this.uploadProgress + '%; opacity: ' + this.uploadFadeOut\"></div></div>\n\t\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\">\n\t\t\t<template #actions=\"p\">\n\t\t\t\t<button title=\"Download\" @click=\"downloadFile(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-download\"></i></button>\n\t\t\t\t<button title=\"Delete\" @click=\"deleteFile(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t</template>\n\t\t</DataTable>\n\t</div>\n</template>\n\n<script>\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\n\nexport default {\n  \tname: 'FilePanel',\n\tmixins: [WorkPanelMixin('files', 'file', 'files')],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tpath: {\n\t\t\t\t\tname: 'Path',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\tsortFn: Utils.sortByPath,\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\tname: 'Size',\n\t\t\t\t\tformat: \"FileSize\",\n\t\t\t\t\tfilterable: false\n\t\t\t\t},\n\t\t\t\tmodified: {\n\t\t\t\t\tname: 'Last modified',\n\t\t\t\t\tformat: 'Timestamp'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tuploadProgress: 0,\n\t\t\tuploadProgressPerFile: [],\n\t\t\tuploadErrored: false,\n\t\t\tuploadFadeOut: 1,\n\t\t\tshowUploadDropHint: 0\n\t\t};\n\t},\n\twatch: {\n\t\tuploadProgressPerFile: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tthis.uploadProgress = this.uploadProgressPerFile.reduce((a,b) => a + b, 0) / this.uploadProgressPerFile.length;\n\t\t\t\tif (this.uploadProgress > 99.9999) {\n\t\t\t\t\tthis.finishAllUploads();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n  \tmethods: {\n\t\tallowDrop(ev) {\n\t\t\tif(this.supportsCreate) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tdropZoneInfo(show) {\n\t\t\tthis.showUploadDropHint += show ? 1 : -1;\n\t\t},\n\t\tuploadFiles(e) {\n\t\t\tthis.showUploadDropHint = 0;\n\t\t\tvar files = [];\n\t\t\tif (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length) {\n\t\t\t\tfiles = e.dataTransfer.files;\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\telse if (e.target && e.target.files && e.target.files.length){\n\t\t\t\tfiles = e.target.files;\n\t\t\t}\n\t\t\tif(!this.supportsCreate) {\n\t\t\t\tUtils.error(this, 'Uploading files is not supported.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (files.length === 0) {\n\t\t\t\tUtils.info(this, 'Please select files to upload.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.uploadProgressPerFile = [];\n\t\t\tthis.uploadProgress = 0;\n\t\t\tthis.uploadErrored = false;\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tthis.uploadFile(files[i], i);\n\t\t\t}\n\t\t},\n\t\tasync uploadFile(file, i) {\n\t\t\tthis.uploadProgressPerFile.push(0);\n\t\t\tif (typeof file.name !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.create({parameters: [\n\t\t\t\t\tfile,\n\t\t\t\t\tnull,\n\t\t\t\t\tpercent => this.$set(this.uploadProgressPerFile, i, percent)\n\t\t\t\t]});\n\t\t\t\tthis.$set(this.uploadProgressPerFile, i, 100);\n\t\t\t\tUtils.ok(this, 'File upload completed.', file.name);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tUtils.exception(this, error, \"Upload File Error: \" + file.name);\n\t\t\t}\n\t\t},\n\t\tfinishAllUploads() {\n\t\t\tthis.$refs.uploadUserFile.value = '';\n\t\t\tvar t = setInterval(() => {\n\t\t\t\tthis.uploadFadeOut -= 0.05;\n\t\t\t\tif (this.uploadFadeOut < 0) {\n\t\t\t\t\tthis.uploadProgress = 0;\n\t\t\t\t\tthis.uploadFadeOut = 1;\n\t\t\t\t\tclearInterval(t);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t},\n\t\tdownloadFile(file) {\n\t\t\tfile.downloadFile(file.path);\n\t\t},\n\t\tdeleteFile(file) {\n\t\t\tif (!confirm(`Do you really want to delete the file \"${file.path}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.delete({data: file})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete File Error: ' + file.path));\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#FilePanel {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n}\n#FilePanel .dropZone {\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 2;\n\topacity: 0.8;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 1.5em;\n\tfont-weight: bold;\n}\n#FilePanel .addFile {\n\tdisplay: flex;\n\tpadding-bottom: 1px;\n}\n#FilePanel .addFile button {\n\tmargin: 0;\n}\n#FilePanel .path {\n\twidth: 50%;\n}\n#FilePanel td.path {\n\tword-break: break-all;\n}\n#FilePanel td.size, #FilePanel td.modified {\n\ttext-align: right;\n}\n.uploadUserFile {\n\tflex-grow: 1;\n\tborder: 0;\n}\n#FilePanel .percent {\n\tbackground-color: #eee;\n\theight: 3px;\n\tmargin-bottom: 5px;\n}\n#FilePanel .percent .used {\n\tbackground-color: green;\n\twidth: 0;\n\theight: 3px;\n}\n#FilePanel .percent .used.errored {\n\tbackground-color: maroon;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilePanel.vue?vue&type=template&id=120a0228&\"\nimport script from \"./FilePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./FilePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"JobPanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.showJobInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('estimateJob')),expression:\"supports('estimateJob')\"}],attrs:{\"title\":\"Estimate\"},on:{\"click\":function($event){return _vm.estimateJob(p.row)}}},[_c('i',{staticClass:\"fas fa-file-invoice-dollar\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate),expression:\"supportsUpdate\"}],attrs:{\"title\":\"Edit metadata\",\"disabled\":!_vm.isJobInactive(p.row)},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteJob(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('startJob') && _vm.isJobInactive(p.row)),expression:\"supports('startJob') && isJobInactive(p.row)\"}],attrs:{\"title\":\"Start processing\"},on:{\"click\":function($event){return _vm.queueJob(p.row)}}},[_c('i',{staticClass:\"fas fa-play-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('stopJob') && _vm.isJobActive(p.row)),expression:\"supports('stopJob') && isJobActive(p.row)\"}],attrs:{\"title\":\"Cancel processing\"},on:{\"click\":function($event){return _vm.cancelJob(p.row)}}},[_c('i',{staticClass:\"fas fa-stop-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('downloadResults') && _vm.mayHaveResults(p.row)),expression:\"supports('downloadResults') && mayHaveResults(p.row)\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){return _vm.downloadResults(p.row)}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('downloadResults') && _vm.mayHaveResults(p.row)),expression:\"supports('downloadResults') && mayHaveResults(p.row)\"}],attrs:{\"title\":\"View results\"},on:{\"click\":function($event){return _vm.viewResults(p.row, true)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('debugJob')),expression:\"supports('debugJob')\"}],attrs:{\"title\":\"View logs\"},on:{\"click\":function($event){return _vm.showLogs(p.row)}}},[_c('i',{staticClass:\"fas fa-bug\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new job for batch processing\",\"disabled\":!this.hasProcess},on:{\"click\":function($event){return _vm.createJobFromScript()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Create Batch Job\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('computeResult')),expression:\"supports('computeResult')\"}],attrs:{\"title\":\"Run the process directly and view the results without storing them permanently\",\"disabled\":!this.hasProcess},on:{\"click\":_vm.executeProcess}},[_c('i',{staticClass:\"fas fa-play\"}),_vm._v(\" Run / Preview\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"JobPanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new job for batch processing\" @click=\"createJobFromScript()\" v-show=\"supportsCreate\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-plus\"></i> Create Batch Job</button>\n\t\t\t<button title=\"Run the process directly and view the results without storing them permanently\" @click=\"executeProcess\" v-show=\"supports('computeResult')\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-play\"></i> Run / Preview</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"showJobInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Estimate\" @click=\"estimateJob(p.row)\" v-show=\"supports('estimateJob')\"><i class=\"fas fa-file-invoice-dollar\"></i></button>\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate\" :disabled=\"!isJobInactive(p.row)\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteJob(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t<button title=\"Start processing\" @click=\"queueJob(p.row)\" v-show=\"supports('startJob') && isJobInactive(p.row)\"><i class=\"fas fa-play-circle\"></i></button>\n\t\t\t<button title=\"Cancel processing\" @click=\"cancelJob(p.row)\" v-show=\"supports('stopJob') && isJobActive(p.row)\"><i class=\"fas fa-stop-circle\"></i></button>\n\t\t\t<button title=\"Download\" @click=\"downloadResults(p.row)\" v-show=\"supports('downloadResults') && mayHaveResults(p.row)\"><i class=\"fas fa-download\"></i></button>\n\t\t\t<button title=\"View results\" @click=\"viewResults(p.row, true)\" v-show=\"supports('downloadResults') && mayHaveResults(p.row)\"><i class=\"fas fa-eye\"></i></button>\n\t\t\t<button title=\"View logs\" @click=\"showLogs(p.row)\" v-show=\"supports('debugJob')\"><i class=\"fas fa-bug\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\nimport { AbortController, Job } from '@openeo/js-client';\n\nconst WorkPanelMixinInstance = WorkPanelMixin('jobs', 'batch job', 'batch jobs');\n\nexport default {\n\tname: 'JobPanel',\n\tmixins: [WorkPanelMixinInstance, EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\thide: true\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tname: 'Batch Job',\n\t\t\t\t\tcomputedValue: row => Utils.getResourceTitle(row),\n\t\t\t\t\tformat: value => Utils.formatIdOrTitle(value),\n\t\t\t\t\tedit: this.updateTitle\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\tname: 'Status',\n\t\t\t\t\tstylable: true\n\t\t\t\t},\n\t\t\t\tcreated: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'Timestamp',\n\t\t\t\t\tsort: 'desc'\n\t\t\t\t},\n\t\t\t\tupdated: {\n\t\t\t\t\tname: 'Last update',\n\t\t\t\t\tformat: 'Timestamp'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t},\n\t\t\twatchers: {},\n\t\t\tjobUpdater: null,\n\t\t\trunId: 0\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\t...Utils.mapGetters(['supports', 'supportsBilling', 'supportsBillingPlans']),\n\t\t...Utils.mapGetters('editor', ['hasProcess']),\n\t\t...Utils.mapState('editor', ['process'])\n\t},\n\twatch: {\n\t\tdata: {\n\t\t\thandler: function(updatedJobs) {\n\t\t\t\t// Update Watchers\n\t\t\t\tthis.watchers = {};\n\t\t\t\tfor(let job of updatedJobs) {\n\t\t\t\t\tif (Utils.isActiveJobStatusCode(job.status)) {\n\t\t\t\t\t\tthis.watchers[job.id] = job;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions('jobs', ['queue', 'cancel']),\n\t\tstartSyncTimer() {\n\t\t\tWorkPanelMixinInstance.methods.startSyncTimer.call(this);\n\t\t\tthis.jobUpdater = setInterval(this.executeWatchers, 10000);\n\t\t},\n\t\tstopSyncTimer() {\n\t\t\tWorkPanelMixinInstance.methods.stopSyncTimer.call(this);\n\t\t\tif (this.jobUpdater !== null) {\n\t\t\t\tclearInterval(this.jobUpdater);\n\t\t\t}\n\t\t},\n\t\tshowInEditor(job) {\n\t\t\tthis.refreshElement(job, updatedJob => this.emit('editProcess', updatedJob));\n\t\t},\n\t\tasync executeProcess() {\n\t\t\tlet abortController = new AbortController();\n\t\t\tlet snotifyConfig = {\n\t\t\t\ttimeout: 0,\n\t\t\t\ttype: 'async',\n\t\t\t\tbuttons: [{\n\t\t\t\t\ttext: 'Cancel',\n\t\t\t\t\taction: toast => {\n\t\t\t\t\t\tabortController.abort();\n\t\t\t\t\t\tthis.$snotify.remove(toast.id, true);\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t};\n\t\t\tlet toast;\n\t\t\ttry {\n\t\t\t\tthis.runId++;\n\t\t\t\tlet message = \"A process is currently executed synchronously...\";\n\t\t\t\tlet title = `Run / Preview #${this.runId}`;\n\t\t\t\tlet endlessPromise = () => new Promise(() => {}); // Pass a promise to snotify that never resolves as we manually close the toast\n\t\t\t\ttoast = this.$snotify.async(message, title, endlessPromise, snotifyConfig);\n\t\t\t\tlet result = await this.connection.computeResult(this.process, null, null, abortController);\n\t\t\t\tthis.emit('viewSyncResult', result);\n\t\t\t} catch(error) {\n\t\t\t\tif (axios.isCancel(error)) {\n\t\t\t\t\t// Do nothing, we expected the cancellation\n\t\t\t\t}\n\t\t\t\telse if (typeof error.message === 'string' && Utils.isObject(error.response) && [400,500].includes(error.response.status)) {\n\t\t\t\t\tthis.emit('viewLogs', [{\n\t\t\t\t\t\tid: error.id,\n\t\t\t\t\t\tcode: error.code,\n\t\t\t\t\t\tlevel: 'error',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\tlinks: error.links || []\n\t\t\t\t\t}]);\n\t\t\t\t\tUtils.error(this, \"Synchronous processing failed. Please see the logs for details.\", \"Processing Error\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.exception(this, error, \"Server Error\");\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (toast) {\n\t\t\t\t\tthis.$snotify.remove(toast.id, true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tjobCreated(job) {\n\t\t\tvar buttons = [];\n\t\t\tif (this.supports('estimateJob')) {\n\t\t\t\tbuttons.push({text: 'Estimate', action: () => this.estimateJob(job)});\n\t\t\t}\n\t\t\tif (this.supports('startJob')) {\n\t\t\t\tbuttons.push({text: 'Start processing', action: () => this.queueJob(job)});\n\t\t\t}\n\t\t\tif (this.supports('deleteJob')) {\n\t\t\t\tbuttons.push({text: 'Delete', action: () => this.deleteJob(job)});\n\t\t\t}\n\t\t\tUtils.confirm(this, 'Job \"' + Utils.getResourceTitle(job) + '\" created!', buttons);\n\t\t},\n\t\tgetTitleField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'title',\n\t\t\t\tlabel: 'Title',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBillingPlanField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'plan',\n\t\t\t\tlabel: 'Billing plan',\n\t\t\t\tschema: {type: 'string', subtype: 'billing-plan'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBudgetField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'budget',\n\t\t\t\tlabel: 'Budget',\n\t\t\t\tschema: {type: 'number', subtype: 'budget'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tnormalizeToDefaultData(data) {\n\t\t\tif (typeof data.title !== 'undefined' && (typeof data.title !== 'string' || data.title.length === 0)) {\n\t\t\t\tdata.title = null;\n\t\t\t}\n\t\t\tif (typeof data.description !== 'undefined' && (typeof data.description !== 'string' || data.description.length === 0)) {\n\t\t\t\tdata.description = null;\n\t\t\t}\n\t\t\tif (typeof data.plan !== 'undefined' && (typeof data.plan !== 'string' || data.plan.length === 0)) {\n\t\t\t\tdata.plan = null;\n\t\t\t}\n\t\t\tif (typeof data.budget !== 'undefined' && (typeof data.budget !== 'number' || data.budget < 0)) {\n\t\t\t\tdata.budget = null;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tasync createJob(process, data) {\n\t\t\ttry {\n\t\t\t\tdata = this.normalizeToDefaultData(data);\n\t\t\t\tlet job = await this.create({parameters: [process, data.title, data.description, data.plan, data.budget]});\n\t\t\t\tthis.jobCreated(job);\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error, 'Create Job Error: ' + (data.title || ''));\n\t\t\t}\n\t\t},\n\t\tcreateJobFromScript() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getTitleField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField() : null,\n\t\t\t\tthis.supportsBilling ? this.getBudgetField() : null\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Create new batch job\", fields, data => this.createJob(this.process, data));\n\t\t},\n\t\tasync deleteJob(job) {\n\t\t\tif (!confirm(`Do you really want to delete the batch job \"${Utils.getResourceTitle(job)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.delete({data: job});\n\t\t\t\tthis.emit('removeBatchJob', job.id);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Delete Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\texecuteWatchers() {\n\t\t\tfor(var i in this.watchers) {\n\t\t\t\tthis.refreshElement(this.watchers[i], (updated, old) => {\n\t\t\t\t\tif (old.status !== 'finished' && updated.status === 'finished') {\n\t\t\t\t\t\tvar buttons = [];\n\t\t\t\t\t\tif (this.supports('downloadResults')) {\n\t\t\t\t\t\t\tbuttons.push({text: 'Download', action: () => this.downloadResults(updated)});\n\t\t\t\t\t\t\tbuttons.push({text: 'View', action: () => this.viewResults(updated)});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tUtils.confirm(this, 'Job \"' + Utils.getResourceTitle(updated) + '\" has finished!', buttons);\n\t\t\t\t\t}\n\t\t\t\t\telse if (old.status !== 'error' && updated.status === 'error') {\n\t\t\t\t\t\tUtils.error(this, 'Job \"' + Utils.getResourceTitle(updated) + '\" has stopped due to an error or timeout.');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (old.status !== updated.status) {\n\t\t\t\t\t\tthis.emit('jobStatusUpdated', updated, old);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tasync showJobInfo(job) {\n\t\t\tthis.refreshElement(job, async (updatedJob) => {\n\t\t\t\tlet result = null;\n\t\t\t\tif (updatedJob.status === 'finished') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = await updatedJob.getResultsAsStac();\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tUtils.exception(this, error, \"Load Results Error: \" + Utils.getResourceTitle(updatedJob));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.emit('showModal', 'JobInfoModal', {job: updatedJob.getAll(), result});\n\t\t\t});\n\t\t},\n\t\tasync estimateJob(job) {\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\ttry {\n\t\t\t\tlet estimate = await job.estimateJob();\n\t\t\t\tthis.emit('showModal', 'JobEstimateModal', {job: job.getAll(), estimate});\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, \"Job Estimate Error: \" + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tshowLogs(job) {\n\t\t\tthis.emit('viewLogs', job);\n\t\t},\n\t\treplaceProcess(job, process) {\n\t\t\tif (job instanceof Job) {\n\t\t\t\tif (this.isJobActive(job)) {\n\t\t\t\t\tUtils.error(this, \"Can't update process while batch job is running.\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.updateJob(job, {process: process});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\teditMetadata(oldJob) {\n\t\t\tthis.refreshElement(oldJob, job => {\n\t\t\t\tvar fields = [\n\t\t\t\t\tthis.getTitleField(job.title),\n\t\t\t\t\tthis.getDescriptionField(job.description),\n\t\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField(job.plan) : null,\n\t\t\t\t\tthis.supportsBilling ? this.getBudgetField(job.budget) : null\n\t\t\t\t];\n\t\t\t\tthis.emit('showDataForm', \"Edit batch job\", fields, data => this.updateJob(job, data));\n\t\t\t});\n\t\t},\n\t\tupdateTitle(job, newTitle) {\n\t\t\tthis.updateJob(job, {title: newTitle});\n\t\t},\n\t\tasync updateJob(job, parameters) {\n\t\t\ttry {\n\t\t\t\tlet updatedJob = await this.update({data: job, parameters: this.normalizeToDefaultData(parameters)});\n\t\t\t\tUtils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully updated.');\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Update Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tasync queueJob(job) {\n\t\t\tthis.refreshElement(job, async (updatedJob) => {\n\t\t\t\tif (updatedJob.status === 'finished' && !confirm(`The batch job \"${Utils.getResourceTitle(updatedJob)}\" has already finished with results. Queueing the job again may discard all previous results! Do you really want to queue it again?`)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tlet updatedJob = await this.queue({data: job});\n\t\t\t\t\tUtils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully queued.');\n\t\t\t\t} catch(error) {\n\t\t\t\t\tUtils.exception(this, error, 'Queue Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync cancelJob(job) {\n\t\t\tif (!confirm(`Do you really want to cancel the execution of batch job \"${Utils.getResourceTitle(job)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet updatedJob = await this.cancel({data: job});\n\t\t\t\tUtils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully canceled.');\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Cancel Job Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tasync viewResults(job) {\t\t\t\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\ttry {\n\t\t\t\tlet stac = await job.getResultsAsStac()\n\t\t\t\tif(Utils.size(stac.assets) == 0) {\n\t\t\t\t\tUtils.error(this, 'No results available for job \"' + Utils.getResourceTitle(job) + '\".');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.emit('viewJobResults', stac, job);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'View Result Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tasync downloadResults(job) {\t\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\ttry {\n\t\t\t\tlet result = await job.getResultsAsStac();\n\t\t\t\tif(Utils.size(result.assets) == 0) {\n\t\t\t\t\tUtils.error(this, 'No results available for job \"' + Utils.getResourceTitle(job) + '\".');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.emit('showModal', 'DownloadAssetsModal', {job, result});\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Download Result Error: ' + Utils.getResourceTitle(job));\n\t\t\t}\n\t\t},\n\t\tmayHaveResults(job) {\n\t\t\treturn (typeof job.status !== 'string' || job.status.toLowerCase() == 'finished'); // todo: We may also want to check for canceled or errored here.\n\t\t},\n\t\tisJobInactive(job) {\n\t\t\treturn Utils.isActiveJobStatusCode(job.status) !== true;\n\t\t},\n\t\tisJobActive(job) {\n\t\t\treturn Utils.isActiveJobStatusCode(job.status) !== false;\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.JobPanel {\n\t.title {\n\t\twidth: 25%;\n\n\t\t.id {\n\t\t\tcolor: #777;\n\t\t}\n\t}\n\t.consumed_credits, .updated, .created {\n\t\ttext-align: right;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobPanel.vue?vue&type=template&id=55aca08e&\"\nimport script from \"./JobPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./JobPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"CustomProcessPanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.processInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteProcess(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new custom process\",\"disabled\":!this.hasProcess},on:{\"click\":_vm.addProcessFromScript}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"CustomProcessPanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new custom process\" @click=\"addProcessFromScript\" v-show=\"supportsCreate\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"processInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteProcess(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\nimport { UserProcess } from '@openeo/js-client';\n\nexport default {\n\tname: 'CustomProcessPanel',\n\tmixins: [WorkPanelMixin('userProcesses', 'custom process', 'custom processes', false), EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\tsummary: {\n\t\t\t\t\tname: 'Summary'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState('editor', ['process']),\n\t\t...Utils.mapGetters(['processes']),\n\t\t...Utils.mapGetters('editor', ['hasProcess']),\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tmethods: {\n\t\tshowInEditor(process) {\n\t\t\tthis.refreshElement(process, updatedProcess => this.emit('editProcess', updatedProcess));\n\t\t},\n\t\tgetIdField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\tname: \"id\",\n\t\t\t\tdescription: 'A unique identifier. Must contain only letters (`a`-`z`), digits (`0`-`9`) and underscores (`_`). `snake_case` is recommended.',\n\t\t\t\tlabel: 'Process ID',\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tpattern: '^\\\\w+$'\n\t\t\t\t},\n\t\t\t\tdefault: null\n\t\t\t};\n\t\t},\n\t\taddProcessFromScript() {\n\t\t\tlet fields = [];\n\t\t\tif (!this.process.id) {\n\t\t\t\tfields.push(this.getIdField());\n\t\t\t}\n\t\t\telse if (!this.process.id.match('^\\\\w+$')) {\n\t\t\t\tfields.push({\n\t\t\t\t\tlabel: 'Please note...',\n\t\t\t\t\tdescription: 'The given process name is invalid, please choose another one below.',\n\t\t\t\t\tinfo: true\n\t\t\t\t});\n\t\t\t\tfields.push(this.getIdField(this.process.id));\n\t\t\t}\n\t\t\telse if (this.processes.has(this.process.id, 'user')) {\n\t\t\t\tfields.push({\n\t\t\t\t\tlabel: 'Warning!',\n\t\t\t\t\tdescription: \"A process with the given name exists! If you click 'Save' below, you confirm that you want to override the existing process. If you don't want to override the existing process, please choose a different name below.\",\n\t\t\t\t\tinfo: true\n\t\t\t\t});\n\t\t\t\tfields.push(this.getIdField(this.process.id));\n\t\t\t}\n\t\t\tlet store = data => this.addProcess(this.normalize(this.process, data));\n\t\t\tif (fields.length > 0) {\n\t\t\t\tthis.emit('showDataForm', 'Store a new custom process', fields, store);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstore();\n\t\t\t}\n\t\t},\n\t\tnormalize(process, data = {}) {\n\t\t\treturn Object.assign(\n\t\t\t\t{},\n\t\t\t\ttypeof process.toJSON === 'function' ? process.toJSON() : process,\n\t\t\t\tdata\n\t\t\t);\n\t\t},\n\t\taddProcess(process) {\n\t\t\tthis.create({parameters: [process.id, process]})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Store Process Error' + (process.id ? `: ${process.id}` : '')));\n\t\t},\n\t\tprocessInfo(process) {\n\t\t\tthis.emit('showProcess', process);\n\t\t},\n\t\treplaceProcess(process, newProcess) {\n\t\t\tif (process instanceof UserProcess) {\n\t\t\t\tthis.updateMetadata(process, newProcess)\n\t\t\t}\n\t\t},\n\t\tasync updateMetadata(process, data) {\n\t\t\ttry {\n\t\t\t\tlet updatedProcess = await this.update({data: process, parameters: this.normalize(process, data)});\n\t\t\t\tUtils.ok(this, 'Process \"' + Utils.getResourceTitle(updatedProcess) + '\" successfully updated.');\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error, 'Update Process Error' + (process.id ? `: ${process.id}` : ''));\n\t\t\t}\n\t\t},\n\t\tdeleteProcess(process) {\n\t\t\tif (!confirm(`Do you really want to delete the process \"${Utils.getResourceTitle(process)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.delete({data: process})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete Process Error' + (process.id ? `: ${process.id}` : '')));\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.CustomProcessPanel .id {\n\twidth: 25%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomProcessPanel.vue?vue&type=template&id=0a8a7d63&\"\nimport script from \"./CustomProcessPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomProcessPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomProcessPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"ServicePanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.serviceInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate),expression:\"supportsUpdate\"}],attrs:{\"title\":\"Edit metadata\"},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteService(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(p.row.enabled && _vm.isMapServiceSupported(p.row.type)),expression:\"p.row.enabled && isMapServiceSupported(p.row.type)\"}],attrs:{\"title\":\"View on map\"},on:{\"click\":function($event){return _vm.viewService(p.row)}}},[_c('i',{staticClass:\"fas fa-map\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('debugService')),expression:\"supports('debugService')\"}],attrs:{\"title\":\"View logs\"},on:{\"click\":function($event){return _vm.showLogs(p.row)}}},[_c('i',{staticClass:\"fas fa-bug\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new service\",\"disabled\":!this.hasProcess},on:{\"click\":function($event){return _vm.createServiceFromScript()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Create\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"ServicePanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new service\" @click=\"createServiceFromScript()\" v-show=\"supportsCreate\" :disabled=\"!this.hasProcess\"><i class=\"fas fa-plus\"></i> Create</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"serviceInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteService(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t<button v-show=\"p.row.enabled && isMapServiceSupported(p.row.type)\" title=\"View on map\" @click=\"viewService(p.row)\"><i class=\"fas fa-map\"></i></button>\n\t\t\t<button title=\"View logs\" @click=\"showLogs(p.row)\" v-show=\"supports('debugService')\"><i class=\"fas fa-bug\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils';\nimport { Service } from '@openeo/js-client';\n\nexport default {\n\tname: 'ServicePanel',\n\tmixins: [WorkPanelMixin('services', 'web service', 'web services'), EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\thide: true\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tname: 'Web Service',\n\t\t\t\t\tcomputedValue: row => Utils.getResourceTitle(row),\n\t\t\t\t\tformat: value => Utils.formatIdOrTitle(value),\n\t\t\t\t\tedit: this.updateTitle\n\t\t\t\t},\n\t\t\t\ttype: {\n\t\t\t\t\tname: 'Type',\n\t\t\t\t\tformat: value => typeof value === 'string' ? value.toUpperCase() : value,\n\t\t\t\t},\n\t\t\t\tenabled: {\n\t\t\t\t\tname: 'Enabled',\n\t\t\t\t\tedit: this.toggleEnabled\n\t\t\t\t},\n\t\t\t\tcreated: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'Timestamp',\n\t\t\t\t\tsort: 'desc'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState('editor', ['process']),\n\t\t...Utils.mapGetters('editor', ['hasProcess']),\n\t\t...Utils.mapState(['serviceTypes']),\n\t\t...Utils.mapGetters(['supports', 'supportsBilling', 'supportsBillingPlans'])\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tmethods: {\n\t\tisMapServiceSupported(type) {\n\t\t\treturn Utils.isMapServiceSupported(type);\n\t\t},\n\t\tshowInEditor(service) {\n\t\t\tthis.refreshElement(service, updatedService => this.emit('editProcess', updatedService));\n\t\t},\n\t\tshowLogs(service) {\n\t\t\tthis.emit('viewLogs', service);\n\t\t},\n\t\tserviceCreated(service) {\n\t\t\tvar buttons = [];\n\t\t\tif (this.isMapServiceSupported(service.type)) {\n\t\t\t\tbuttons.push({text: 'View on map', action: () => this.viewService(service)});\n\t\t\t}\n\t\t\tif (this.supportsRead) {\n\t\t\t\tbuttons.push({text: 'Details', action: () => this.serviceInfo(service)});\n\t\t\t}\n\t\t\tif (this.supportsDelete) {\n\t\t\t\tbuttons.push({text: 'Delete', action: () => this.deleteService(service)});\n\t\t\t}\n\t\t\tUtils.confirm(this, 'Web Service created!', buttons);\n\t\t},\n\t\tgetTitleField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'title',\n\t\t\t\tlabel: 'Title',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetServiceTypeField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'type',\n\t\t\t\tlabel: 'Type',\n\t\t\t\tschema: {type: 'string', subtype: 'service-type'},\n\t\t\t\tvalue: value\n\t\t\t};\n\t\t},\n\t\tgetBillingPlanField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'plan',\n\t\t\t\tlabel: 'Billing plan',\n\t\t\t\tschema: {type: 'string', subtype: 'billing-plan'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBudgetField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'budget',\n\t\t\t\tlabel: 'Budget',\n\t\t\t\tschema: {type: 'number', subtype: 'budget'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetEnabledField(value = true) {\n\t\t\treturn {\n\t\t\t\tname: 'enabled',\n\t\t\t\tlabel: 'Enabled',\n\t\t\t\tschema: {type: 'boolean'},\n\t\t\t\tdefault: true,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetConfigField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'configuration',\n\t\t\t\tlabel: 'Service Configuration',\n\t\t\t\tschema: {type: 'object', subtype: 'service-config'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tnormalizeToDefaultData(data) {\n\t\t\tif (typeof data.title !== 'undefined' && (typeof data.title !== 'string' || data.title.length === 0)) {\n\t\t\t\tdata.title = null;\n\t\t\t}\n\t\t\tif (typeof data.description !== 'undefined' && (typeof data.description !== 'string' || data.description.length === 0)) {\n\t\t\t\tdata.description = null;\n\t\t\t}\n\t\t\tif (typeof data.enabled !== 'undefined' && typeof data.enabled !== 'boolean') {\n\t\t\t\tdata.enabled = true;\n\t\t\t}\n\t\t\tif (typeof data.configuration !== 'undefined' && !Utils.isObject(data.configuration)) {\n\t\t\t\tdata.configuration = {};\n\t\t\t}\n\t\t\tif (typeof data.plan !== 'undefined' && (typeof data.plan !== 'string' || data.plan.length === 0)) {\n\t\t\t\tdata.plan = null;\n\t\t\t}\n\t\t\tif (typeof data.budget !== 'undefined' && (typeof data.budget !== 'number' || data.budget < 0)) {\n\t\t\t\tdata.budget = null;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tasync createService(script, data) {\n\t\t\tdata = this.normalizeToDefaultData(data);\n\t\t\ttry {\n\t\t\t\tlet service = await this.create({parameters: [script, data.type, data.title, data.description, data.enabled, data.configuration, data.plan, data.budget]});\n\t\t\t\tthis.serviceCreated(service);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Create Service Error: ' + (data.title || ''));\n\t\t\t}\n\t\t},\n\t\tcreateServiceFromScript() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getTitleField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.getServiceTypeField(),\n\t\t\t\tthis.getEnabledField(),\n\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField() : null,\n\t\t\t\tthis.supportsBilling ? this.getBudgetField() : null,\n\t\t\t\tthis.getConfigField()\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Create new web service\", fields, data => this.createService(this.process, data));\n\t\t},\n\t\teditMetadata(oldService) {\n\t\t\tthis.refreshElement(oldService, service => {\n\t\t\t\tvar fields = [\n\t\t\t\t\tthis.getTitleField(service.title),\n\t\t\t\t\tthis.getDescriptionField(service.description),\n\t\t\t\t\tthis.getEnabledField(service.enabled),\n\t\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField(service.plan) : null,\n\t\t\t\t\tthis.supportsBilling ? this.getBudgetField(service.budget) : null,\n\t\t\t\t\tthis.getConfigField(service.configuration)\n\t\t\t\t];\n\t\t\t\tthis.emit('showDataForm', \"Edit web service\", fields, data => this.updateService(service, data));\n\t\t\t});\n\t\t},\n\t\tserviceInfo(service) {\n\t\t\tthis.refreshElement(service, updatedService => {\n\t\t\t\tthis.emit('showModal', 'ServiceInfoModal', {service: updatedService.getAll()});\n\t\t\t});\n\t\t},\n\t\treplaceProcess(service, process) {\n\t\t\tif (service instanceof Service) {\n\t\t\t\tthis.updateService(service, {process: process});\n\t\t\t}\n\t\t},\n\t\tupdateTitle(service, newTitle) {\n\t\t\tthis.updateService(service, {title: newTitle});\n\t\t},\n\t\ttoggleEnabled(service) {\n\t\t\tthis.updateService(service, {enabled: !service.enabled});\n\t\t},\n\t\tasync updateService(service, parameters) {\n\t\t\ttry {\n\t\t\t\tlet updatedService = await this.update({data: service, parameters: this.normalizeToDefaultData(parameters)});\n\t\t\t\tUtils.ok(this, 'Service \"' + Utils.getResourceTitle(updatedService) + '\" successfully updated.');\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, \"Update Service Error: \" + Utils.getResourceTitle(service));\n\t\t\t}\n\t\t},\n\t\tasync deleteService(service) {\n\t\t\tif (!confirm(`Do you really want to delete the service \"${Utils.getResourceTitle(service)}\"?`)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait this.delete({data: service});\n\t\t\t\tthis.emit('removeWebService', service.id);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error, 'Delete Service Error: ' + Utils.getResourceTitle(service));\n\t\t\t}\n\t\t},\n\t\tviewService(service) {\n\t\t\tthis.emit('viewWebService', service);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.ServicePanel .title {\n\twidth: 25%;\n}\n.ServicePanel .type {\n\ttext-align: center;\n}\n.ServicePanel .enabled {\n\ttext-align: center;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServicePanel.vue?vue&type=template&id=9bae1426&\"\nimport script from \"./ServicePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ServicePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ServicePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs id=\"userContent\" ref=\"tabs\">\n\t\t<Tab v-if=\"showJobs\" id=\"jobs\" name=\"Data Processing\" icon=\"fa-tasks\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<JobPanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showServices\" id=\"services\" name=\"Web Services\" icon=\"fa-cloud\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<ServicePanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showCustomProcesses\" id=\"customProcesses\" name=\"Custom Processes\" icon=\"fa-sitemap\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<CustomProcessPanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showFiles\" id=\"files\" name=\"Files\" icon=\"fa-file\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<FilePanel />\n\t\t</Tab>\n\t</Tabs>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport FilePanel from './FilePanel.vue';\nimport JobPanel from './JobPanel.vue';\nimport CustomProcessPanel from './CustomProcessPanel.vue';\nimport ServicePanel from './ServicePanel.vue';\n\nexport default {\n\tname: 'UserWorkspace',\n\tcomponents: {\n\t\tFilePanel,\n\t\tJobPanel,\n\t\tCustomProcessPanel,\n\t\tServicePanel,\n\t\tTabs,\n\t\tTab\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['supports']),\n\t\tshowJobs() {\n\t\t\treturn (this.supports('listJobs') || this.supports('createJob'));\n\t\t},\n\t\tshowServices() {\n\t\t\treturn (this.supports('listServices') || this.supports('createService'));\n\t\t},\n\t\tshowCustomProcesses() {\n\t\t\treturn (this.supports('listUserProcesses') || this.supports('setUserProcess'));\n\t\t},\n\t\tshowFiles() {\n\t\t\treturn (this.supports('listFiles') || this.supports('uploadFile'));\n\t\t}\n\t},\n\tmethods: {\n\t\tonShow(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onShow === 'function') {\n\t\t\t\ttab.$children[0].onShow();\n\t\t\t}\n\t\t},\n\t\tonHide(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onHide === 'function') {\n\t\t\t\ttab.$children[0].onHide();\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#userContent .tabContent {\n\tpadding: 5px;\n}\n#userContent .data-table .title {\n\tword-break: break-all;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserWorkspace.vue?vue&type=template&id=3fce6407&\"\nimport script from \"./UserWorkspace.vue?vue&type=script&lang=js&\"\nexport * from \"./UserWorkspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserWorkspace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewerContainer\",on:{\"drop\":_vm.onDrop,\"dragover\":_vm.allowDrop}},[_c('Tabs',{ref:\"tabs\",attrs:{\"id\":\"viewerTabs\"},on:{\"empty\":_vm.onTabsEmpty},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_vm._v(\"Nothing to show right now...\")]},proxy:true},{key:\"dynamic\",fn:function(ref){\nvar tab = ref.tab;\nreturn [(_vm.logViewerIcons.includes(tab.icon))?_c('LogViewer',{attrs:{\"data\":tab.data}}):(tab.icon === 'fa-map')?_c('MapViewer',{attrs:{\"data\":tab.data,\"removableLayers\":_vm.isCollectionPreview(tab.data)},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}}):(tab.data.component)?_c(tab.data.component,_vm._g(_vm._b({tag:\"component\",on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},'component',tab.data.props,false),tab.data.events)):_c('div',{staticClass:\"unsupported\"},[_vm._v(\" Sorry, the viewer doesn't support showing this type of data. \"),(_vm.isFormat(tab.data))?[_vm._v(\" Instead, you can download the data by clicking the link below.\"),_c('br'),_c('a',{attrs:{\"href\":tab.data.getUrl(),\"download\":\"\"}},[_vm._v(\"Download\")])]:_vm._e()],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"viewerContainer\" @drop=\"onDrop\" @dragover=\"allowDrop\">\n\t\t<Tabs id=\"viewerTabs\" ref=\"tabs\" @empty=\"onTabsEmpty\">\n\t\t\t<template #empty>Nothing to show right now...</template>\n\t\t\t<template #dynamic=\"{ tab }\">\n\t\t\t\t<LogViewer v-if=\"logViewerIcons.includes(tab.icon)\" :data=\"tab.data\" />\n\t\t\t\t<MapViewer v-else-if=\"tab.icon === 'fa-map'\" :data=\"tab.data\" :removableLayers=\"isCollectionPreview(tab.data)\" @show=\"onShow\" @hide=\"onHide\" /> <!-- for services -->\n\t\t\t\t<component v-else-if=\"tab.data.component\" :is=\"tab.data.component\" v-on=\"tab.data.events\" v-bind=\"tab.data.props\" @show=\"onShow\" @hide=\"onHide\" /> <!-- for file formats -->\n\t\t\t\t<div class=\"unsupported\" v-else>\n\t\t\t\t\tSorry, the viewer doesn't support showing this type of data.\n\t\t\t\t\t<template v-if=\"isFormat(tab.data)\">\n\t\t\t\t\t\tInstead, you can download the data by clicking the link below.<br />\n\t\t\t\t\t\t<a :href=\"tab.data.getUrl()\" download>Download</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Tabs>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport { Service } from '@openeo/js-client';\nimport FormatRegistry from '../formats/formatRegistry';\nimport { Format } from '../formats/format';\n\nexport default {\n\tname: 'Viewer',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tTabs,\n\t\tDataViewer: () => import('./viewer/DataViewer.vue'),\n\t\tTableViewer: () => import('./viewer/TableViewer.vue'),\n\t\tImageViewer: () => import('./viewer/ImageViewer.vue'),\n\t\tLogViewer: () => import('./viewer/LogViewer.vue'),\n\t\tMapViewer: () => import('./viewer/MapViewer.vue')\n\t},\n\tmounted() {\n\t\tthis.listen('viewSyncResult', this.showSyncResults);\n\t\tthis.listen('viewJobResults', this.showJobResults);\n\t\tthis.listen('viewWebService', this.showWebService);\n\t\tthis.listen('showCollectionPreview', this.showCollectionPreview);\n\t\tthis.listen('viewLogs', this.showLogs);\n\t\tthis.listen('removeWebService', this.closeTabWithLogs);\n\t\tthis.listen('removeBatchJob', this.closeTabWithLogs);\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tregistry: new FormatRegistry(),\n\t\t\ttabTitleCounter: {},\n\t\t\ttabIdCounter: 0,\n\t\t\tlogViewerIcons: [\n\t\t\t\t'fa-bug',\n\t\t\t\t'fa-bomb',\n\t\t\t\t'fa-tasks'\n\t\t\t]\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection', 'userLocation']),\n\t\tnextTabId() {\n\t\t\treturn `viewer~${this.tabIdCounter}`;\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeCollection']),\n\t\tisCollectionPreview(data) {\n\t\t\treturn (data instanceof Service && Utils.isObject(data.attributes) && data.attributes.preview === true);\n\t\t},\n\t\tisFormat(data) {\n\t\t\treturn (data instanceof Format);\n\t\t},\n\t\tasync showCollectionPreview(collection) {\n\t\t\tif (typeof collection === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tcollection = await this.describeCollection(collection);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.error(this, \"Sorry, can't load collection '\" + collection + \"'.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet link = Utils.getPreviewLinkFromSTAC(collection);\n\t\t\tif (!link) {\n\t\t\t\tUtils.error(this, 'No visualizations found for collection');\n\t\t\t}\n\n\t\t\tlet service = new Service(null, `collection-preview~${collection.id}`);\n\t\t\tservice.url = link.href;\n\t\t\tservice.type = link.rel.toLowerCase();\n\t\t\tservice.attributes = {\n\t\t\t\tpreview: true,\n\t\t\t\tbbox: Utils.extentToBBox(collection.extent.spatial.bbox[0])\n\t\t\t};\n\t\t\tif (link.rel.toLowerCase() === 'wmts') {\n\t\t\t\tif (typeof link['wmts:layer'] === 'string') {\n\t\t\t\t\tservice.attributes.layers = [\n\t\t\t\t\t\tlink['wmts:layer']\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(link['wmts:layer'])) {\n\t\t\t\t\tservice.attributes.layers = link['wmts:layer'];\n\t\t\t\t}\n\t\t\t\tservice.attributes.dimensions = link['wmts:dimensions'];\n\t\t\t}\n\n\t\t\tlet title = Utils.getResourceTitle(collection, true);\n\t\t\tthis.showMapViewer(service, service.id, title, true);\n\t\t},\n\t\tshowWebService(service) {\n\t\t\tthis.showMapViewer(service, service.id, null, true);\n\t\t},\n\t\tshowLogs(resource, defaultTitle = 'Logs', selectTab = true, faIcon = 'fa-bug') {\n\t\t\tlet title = Array.isArray(resource) ? defaultTitle : Utils.getResourceTitle(resource, \"Logs\");\n\t\t\tlet id = Array.isArray(resource) ? null : `logs~${resource.id}`;\n\n\t\t\tif (id) { // Re-use existing tab\n\t\t\t\tlet tab = this.$refs.tabs.getTab(id);\n\t\t\t\tif (tab) {\n\t\t\t\t\tthis.$refs.tabs.selectTab(tab);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\ttitle, faIcon, resource, id, selectTab, true,\n\t\t\t\ttab => this.onShow(tab),\n\t\t\t\ttab => this.onHide(tab)\n\t\t\t);\n\t\t},\n\t\tcloseTabWithLogs(id) {\n\t\t\tthis.closeTab(id);\n\t\t\tthis.closeTab(`logs~${id}`);\n\t\t},\n\t\tcloseTab(id) {\n\t\t\tlet tab = this.$refs.tabs.getTab(id);\n\t\t\tif (tab) {\n\t\t\t\tthis.$refs.tabs.closeTab(tab);\n\t\t\t}\n\t\t},\n\t\tshowSyncResults(result) {\n\t\t\tlet title = this.makeTitle(\"Result\");\n\t\t\t// result.data should always be a blob\n\t\t\tlet files = this.registry.createFilesFromBlob(result.data);\n\t\t\t// Download files to disc so that nothing gets lost\n\t\t\tfiles.forEach(file => file.download());\n\t\t\t// Show the data in the viewer\n\t\t\tthis.showViewer(files, title).finally(() => {\n\t\t\t\t// Open the log files after the data tab has been opened -> it's in finally to spawn after the data tab\n\t\t\t\tif (Array.isArray(result.logs) && result.logs.length > 0) {\n\t\t\t\t\tthis.showLogs(result.logs, title, false);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tshowJobResults(stac, job) {\n\t\t\tlet files = this.registry.createFilesFromSTAC(stac, job);\n\t\t\tlet title = Utils.getResourceTitle(job, true);\n\t\t\tthis.showViewer(files, title, job.id, true);\n\t\t},\n\t\tshowMapViewer(resource, id = null, title = null, reUseExistingTab = false) {\n\t\t\tif (!title) {\n\t\t\t\ttitle = Utils.getResourceTitle(resource, true);\n\t\t\t}\n\t\t\tif (!id) {\n\t\t\t\tid = this.nextTabId;\n\t\t\t\tthis.tabIdCounter++;\n\t\t\t\tif (reUseExistingTab) {\n\t\t\t\t\tthrow new Error(\"Tabs without id can't be re-used\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (reUseExistingTab) {\n\t\t\t\tlet tab = this.$refs.tabs.getTab(id);\n\t\t\t\tif (tab) {\n\t\t\t\t\treturn this.$refs.tabs.selectTab(tab);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\ttitle, \"fa-map\", resource, id, true, true,\n\t\t\t\ttab => this.onShow(tab),\n\t\t\t\ttab => this.onHide(tab)\n\t\t\t);\n\t\t},\n\t\tasync showViewer(files, title = null, id = null, reUseExistingTab = false) {\n\t\t\tfor(let file of files) {\n\t\t\t\ttry {\n\t\t\t\t\tlet context = file.getContext();\n\t\t\t\t\tif (!id && context) {\n\t\t\t\t\t\tid = context.id;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (reUseExistingTab) {\n\t\t\t\t\t\tif (!id) {\n\t\t\t\t\t\t\tthrow new Error(\"Tabs without id can't be re-used\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tab = this.$refs.tabs.getTab(id);\n\t\t\t\t\t\tif (tab) {\n\t\t\t\t\t\t\tthis.$refs.tabs.selectTab(tab);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!title && context) {\n\t\t\t\t\t\ttitle = Utils.getResourceTitle(context, true);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!title) {\n\t\t\t\t\t\ttitle = this.makeTitle(\"Untitled\");\n\t\t\t\t\t}\n\t\t\t\t\tawait file.getData(this.connection);\n\t\t\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\t\t\ttitle, file.icon, file, id, true, true,\n\t\t\t\t\t\ttab => this.onShow(tab),\n\t\t\t\t\t\ttab => this.onHide(tab)\n\t\t\t\t\t);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.exception(this, error, \"Viewer Error\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync callChildFunction(tab, fn, ...args) {\n\t\t\tlet result;\n\t\t\tif (tab.$children.length === 1 && typeof tab.$children[0][fn] === 'function') {\n\t\t\t\tresult = tab.$children[0][fn](...args);\n\t\t\t}\n\t\t\telse if (typeof tab[fn] === 'function') {\n\t\t\t\tresult = tab[fn](...args);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tif (result instanceof Promise) {\n\t\t\t\tresult = await result;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tasync onDrop(event) {\n\t\t\tvar json = event.dataTransfer.getData(\"application/vnd.openeo-node\");\n\t\t\tif (!json) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet node = JSON.parse(json);\n\t\t\tif (node.process_id === 'load_collection') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet id = Utils.isObject(node.arguments) ? node.arguments.id : null;\n\t\t\t\ttry {\n\t\t\t\t\tlet collection = await this.describeCollection(id);\n\t\t\t\t\tthis.showCollectionPreview(collection);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tUtils.error(this, \"Sorry, can't load collection details for '\" + id + \"'.\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tallowDrop(event) {\n\t\t\tevent.preventDefault();\n\t\t},\n\t\tonShow(tab) {\n\t\t\tthis.callChildFunction(tab, 'onShow');\n\t\t},\n\t\tonHide(tab) {\n\t\t\tthis.callChildFunction(tab, 'onHide');\n\t\t},\n\t\tonTabsEmpty(hasNone) {\n\t\t\tthis.$emit('empty', hasNone);\n\t\t},\n\t\tuniqueTitle(title) {\n\t\t\tif (!this.tabTitleCounter[title]) {\n\t\t\t\tthis.tabTitleCounter[title] = 1;\n\t\t\t\treturn title;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.tabTitleCounter[title]++;\n\t\t\t\treturn title + \" (\" + this.tabTitleCounter[title] + \")\";\n\t\t\t}\n\t\t},\n\t\tmakeTitle(title, type, unique = true) {\n\t\t\tif (!title) {\n\t\t\t\treturn this.uniqueTitle(type);\n\t\t\t}\n\t\t\telse if (unique) {\n\t\t\t\treturn this.uniqueTitle(title);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn title;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.map-viewer, .viewerContainer {\n\theight: 100%;\n}\n.viewerContainer {\n\t.unsupported {\n\t\tpadding: 1em;\n\t}\n\t.tabsEmpty {\n\t\theight: 100%;\n\t\tpadding: 1rem;\n\t\tmargin: auto;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Viewer.vue?vue&type=template&id=25d0398c&\"\nimport script from \"./Viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./Viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Viewer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"wrapper\">\n\t\t<div id=\"ide\" :class=\"{authenticated: isAuthenticated}\">\n\t\t\t<header class=\"navbar\">\n\t\t\t\t<Logo />\n\t\t\t\t<ul id=\"menu\">\n\t\t\t\t\t<li><div class=\"menuItem\" @click=\"showHelp\" title=\"Start a guided tour\"><i class=\"fas fa-question fa-fw\"></i> Help</div></li>\n\t\t\t\t\t<li><div class=\"menuItem\" @click=\"showServerInfo\" title=\"Get server information\"><i class=\"fas fa-info fa-fw\"></i> Server</div></li>\n\t\t\t\t\t<li><UserMenu /></li>\n\t\t\t\t</ul>\n\t\t\t</header>\n\t\t\t<Splitpanes class=\"default-theme\" @resize=\"resized\" @pane-maximize=\"resized\">\n\t\t\t\t<Pane id=\"discovery\" :size=\"splitpaneSizeH[0]\">\n\t\t\t\t\t<DiscoveryToolbar class=\"toolbar tour-ide-discovery\" :onAddProcess=\"insertProcess\" :collectionPreview=\"true\" :persist=\"true\" />\n\t\t\t\t</Pane>\n\t\t\t\t<Pane id=\"workspace\" :size=\"splitpaneSizeH[1]\">\n\t\t\t\t\t<Splitpanes class=\"default-theme\" horizontal @resize=\"resized\" @pane-maximize=\"resized\">\n\t\t\t\t\t\t<Pane id=\"editor\" :size=\"splitpaneSizeV[0]\">\n\t\t\t\t\t\t\t<Editor ref=\"editor\" class=\"mainEditor tour-ide-editor\" id=\"main\" :value=\"process\" @input=\"updateEditor\" :title=\"contextTitle\">\n\t\t\t\t\t\t\t\t<template #file-toolbar>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" @click=\"importProcess\" title=\"Import process from external source\"><i class=\"fas fa-cloud-download-alt\"></i></button>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" v-show=\"saveSupported\" :disabled=\"!hasProcess\" @click=\"saveProcess\" :title=\"'Save to ' + contextTitle\"><i class=\"fas fa-save\"></i></button>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" @click=\"exportCode\" :disabled=\"!hasProcess\" title=\"Export into another programming language\"><i class=\"fas fa-file-export\"></i></button>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" v-show=\"validateSupported\" :disabled=\"!hasProcess\" @click=\"validateProcess\" title=\"Validate process on server-side\"><i class=\"fas fa-tasks\"></i></button>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Editor>\n\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t<Pane id=\"user\" :size=\"splitpaneSizeV[1]\">\n\t\t\t\t\t\t\t<UserWorkspace v-if=\"isAuthenticated\" class=\"userContent tour-ide-workspace\" />\n\t\t\t\t\t\t\t<div v-else class=\"message info\" title=\"Login is required to interact with the server.\">\n\t\t\t\t\t\t\t\t<i class=\"fas fa-sign-in-alt\"></i>\n\t\t\t\t\t\t\t\t<span class=\"login-message\"><strong><a @click=\"login\">Log in</a></strong> is required to interact with the server.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Pane>\n\t\t\t\t\t</Splitpanes>\n\t\t\t\t</Pane>\n\t\t\t\t<Pane id=\"viewer\" :class=\"{empty: !showViewer}\" :size=\"splitpaneSizeH[2]\">\n\t\t\t\t\t<Viewer class=\"tour-ide-viewer\" @empty=\"onViewerEmpty\" />\n\t\t\t\t</Pane>\n\t\t\t</Splitpanes>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport UserMenu from './UserMenu.vue';\nimport UserWorkspace from './UserWorkspace.vue';\nimport Viewer from './Viewer.vue';\nimport Editor from './Editor.vue';\nimport Logo from './Logo.vue';\nimport DiscoveryToolbar from './DiscoveryToolbar.vue';\nimport { ProcessParameter } from '@openeo/js-commons';\nimport { Job, Service, UserProcess } from '@openeo/js-client';\nimport { Splitpanes, Pane } from 'splitpanes';\n\nexport default {\n\tname: 'IDE',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tDiscoveryToolbar,\n\t\tEditor,\n\t\tLogo,\n\t\tViewer,\n\t\tUserMenu,\n\t\tUserWorkspace,\n\t\tSplitpanes,\n\t\tPane\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowViewer: false,\n\t\t\tresizeListener: null,\n\t\t\tuserInfoUpdater: null\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection', 'isAuthenticated']),\n\t\t...Utils.mapState('editor', ['context', 'process', 'collectionPreview']),\n\t\t...Utils.mapGetters(['title', 'apiVersion', 'supports']),\n\t\t...Utils.mapGetters('jobs', {supportsJobUpdate: 'supportsUpdate'}),\n\t\t...Utils.mapGetters('services', {supportsServiceUpdate: 'supportsUpdate'}),\n\t\t...Utils.mapGetters('userProcesses', {supportsUserProcessUpdate: 'supportsUpdate'}),\n\t\tcontextTitle() {\n\t\t\treturn this.context !== null ? Utils.getResourceTitle(this.context, true) : ''\n\t\t},\n\t\tsaveSupported() {\n\t\t\treturn this.context !== null && (\n\t\t\t\t(this.context instanceof Job && this.supportsJobUpdate) ||\n\t\t\t\t(this.context instanceof Service && this.supportsServiceUpdate) ||\n\t\t\t\t(this.context instanceof UserProcess && this.supportsUserProcessUpdate)\n\t\t\t);\n\t\t},\n\t\thasProcess() {\n\t\t\treturn Utils.size(this.process) > 0;\n\t\t},\n\t\tvalidateSupported() {\n\t\t\treturn this.supports('validateProcess');\n\t\t},\n\t\tsplitpaneSizeH() {\n\t\t\tif (this.showViewer) {\n\t\t\t\treturn [20, 40, 40];\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn [25, 75, 0];\n\t\t\t}\n\t\t},\n\t\tsplitpaneSizeV() {\n\t\t\tif (this.isAuthenticated) {\n\t\t\t\treturn [50,50];\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn [99,1];\n\t\t\t}\n\t\t}\n\t},\n\tasync mounted() {\n\t\tthis.listen('showDataForm', this.showDataForm);\n\t\tthis.listen('editProcess', this.editProcess);\n\t\tthis.listen('showLogin', this.login);\n\n\t\tthis.resizeListener = event => this.resized(event);\n\t\twindow.addEventListener('resize', this.resizeListener);\n\t\tif (this.isAuthenticated) {\n\t\t\tthis.userInfoUpdater = setInterval(this.describeAccount, this.$config.dataRefreshInterval*60*1000); // Refresh user data every x minutes\n\t\t}\n\t\tthis.emit('title', this.title);\n\n\t\tif (this.collectionPreview) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.emit('showCollectionPreview', this.collectionPreview);\n\t\t\t\tthis.setCollectionPreview(null);\n\t\t\t});\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tif (this.resizeListener !== null) {\n\t\t\twindow.removeEventListener('resize', this.resizeListener);\n\t\t}\n\t\tif (this.userInfoUpdater !== null) {\n\t\t\tclearInterval(this.userInfoUpdater);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeAccount']),\n\t\t...Utils.mapMutations(['discoveryCompleted']),\n\t\t...Utils.mapMutations('editor', ['setContext', 'setProcess', 'setCollectionPreview']),\n\n\t\tresized(event) {\n\t\t\tthis.emit('windowResized', event);\n\t\t},\n\t\tonViewerEmpty(empty) {\n\t\t\tthis.showViewer = !empty;\n\t\t},\n\n\t\tlogin() {\n\t\t\tthis.discoveryCompleted(false);\n\t\t},\n\n\t\timportProcess() {\n\t\t\tlet events = {\n\t\t\t\tsave: this.updateEditor\n\t\t\t};\n\t\t\tthis.emit('showModal', 'ImportProcessModal', {}, events);\n\t\t},\n\n\t\tsaveProcess() {\n\t\t\tthis.emit('replaceProcess', this.context, this.process);\n\t\t},\n\n\t\tasync exportCode() {\n\t\t\tthis.emit('showModal', 'ExportCodeModal');\n\t\t},\n\n\t\tasync validateProcess() {\n\t\t\tif (!this.validateSupported) {\n\t\t\t\treturn Utils.error(this, \"Server doesn't support validation\");\n\t\t\t}\n\t\t\telse if (!this.hasProcess) {\n\t\t\t\treturn Utils.info(this, 'Nothing to validate...');\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet errors = await this.connection.validateProcess(this.process);\n\t\t\t\tif (errors.length > 0) {\n\t\t\t\t\terrors.forEach(error => error.level = 'error');\n\t\t\t\t\tthis.emit('viewLogs', errors, 'Validation Result', 'fa-tasks');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.ok(this, \"The process is valid\");\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error, \"Validation rejected\");\n\t\t\t}\n\t\t},\n\n\t\tupdateEditor(value) {\n\t\t\tthis.setProcess(value);\n\t\t\tif (value === null) {\n\t\t\t\tthis.setContext(null);\n\t\t\t}\n\t\t},\n\n\t\teditProcess(obj) {\n\t\t\tthis.setContext(obj);\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\tthis.$refs.editor.insertProcess(node);\n\t\t},\n\n\t\tshowServerInfo() {\n\t\t\tthis.emit('showModal', 'ServerInfoModal');\n\t\t},\n\n\t\tshowHelp() {\n\t\t\tthis.emit('showTour', 'ide');\n\t\t},\n\n\t\tshowDataForm(title, fields, saveCallback = null, closeCallback = null) {\n\t\t\tvar editable = typeof saveCallback === 'function';\n\t\t\tvar data = {};\n\t\t\tvar parameters = [];\n\t\t\tfor(let field of fields) {\n\t\t\t\tif (field === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tparameters.push(new ProcessParameter(field));\n\t\t\t\tdata[field.name] = field.value;\n\t\t\t}\n\t\n\t\t\tlet props = {\n\t\t\t\ttitle,\n\t\t\t\tparameters,\n\t\t\t\tdata,\n\t\t\t\teditable\n\t\t\t};\n\t\t\tlet events = {};\n\t\t\tif (typeof saveCallback === 'function') {\n\t\t\t\tevents.save = saveCallback;\n\t\t\t}\n\t\t\tif (typeof closeCallback === 'function') {\n\t\t\t\tevents.closed = closeCallback;\n\t\t\t}\n\t\t\tthis.emit('showModal', 'ParameterModal', props, events);\n\t\t}\n\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../../theme.scss';\n@import '~splitpanes/dist/splitpanes.css';\n\n.splitpanes.default-theme {\n  .splitpanes__pane {\n    background-color: transparent;\n  }\n  .splitpanes__splitter {\n\t  border: 0;\n  }\n  > * {\n\t-webkit-transition: none;\n\ttransition: none;\n  }\n}\n\n#ide {\n\tmargin-top: 80px;\n\theight: calc(100% - 80px);\n\tbackground-color: white;\n}\n#wrapper {\n\theight: 100%;\n}\n#workspace, #viewer {\n\theight: 100%;\n\tmin-width: 200px;\n\tpadding: 1rem;\n\tbox-sizing: border-box;\n\n\t&.empty {\n\t\tmin-width: 0;\n\t\tpadding: 0;\n\t}\n}\n#workspace {\n\tmin-width: 300px;\n}\n#discovery {\n\theight: 100%;\n\toverflow: auto;\n\n\t.search-box {\n\t\tmargin: 1rem;\n\t}\n\t.category {\n\t\tpadding: 5px 1em;\n\t}\n}\n#user {\n\tmin-height: 2.5em;\n}\n#editor, .authenticated #user {\n\tmin-height: 150px;\n}\n#editor {\n\tpadding-bottom: 0.5rem;\n\n\t&:last-child {\n\t\tpadding-bottom: 0;\n\t}\n}\n\n#user {\n\tpadding-top: 0.5rem;\n\n\t.login-message {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n#ide header.navbar {\n\twidth: 100%;\n\tbackground-color: $mainColor;\n\tcolor: white;\n\theight: 80px;\n\tposition: fixed;\n\ttop: 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tz-index: 100;\n}\n#ide .logo {\n\tflex-grow: 1;\n\talign-content: flex-start;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tjustify-content: left;\n\tpadding-left: 1rem;\n}\n\n#menu {\n\tlist-style-type: none;\n\tmargin: 0 1rem;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\n\tli {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\theight: 80px;\n\n\t\t&:hover {\n\t\t\tbackground-color: white;\n\t\t\tcolor: $mainColor;\n\n\t\t\t.dropdown {\n\t\t\t\tdisplay: block;\n\t\t\t\tborder-color: #ddd;\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-width: 0 1px 1px 1px;\n\t\t\t}\n\t\t}\n\n\t\t.menuItem {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 10px 20px;\n\t\t\theight: 60px;\n\t\t\tfont-size: 16px;\n\t\t\tfont-weight: bold;\n\t\t}\n\n\t\t.dropdown {\n\t\t\tdisplay: none;\n\t\t\tposition: absolute;\n\t\t\tbackground-color: white;\n\t\t\tcolor: black;\n\t\t\tmin-width: 200px;\n\t\t\tbox-shadow: 8px 8px 8px 0px rgba(0,0,0,0.3);\n\t\t\ttop: 80px;\n\t\t\tright: -1px;\n\n\t\t\t.item {\n\t\t\t\tpadding: 10px;\n\t\t\t\tdisplay: block;\n\n\t\t\t\t&.separator {\n\t\t\t\t\tborder-bottom: 1px dotted $mainColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thr {\n\t\t\t\tmargin: 5px 10px;\n\t\t\t}\n\n\t\t\ta.item:hover {\n\t\t\t\tbackground-color: $mainColor;\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.tabContent .dataTable,\n.tabContent table {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tfont-size: 0.95em;\n\n\ttd, th {\n\t\tborder: 1px solid #ddd;\n\t\tpadding: 3px;\n\t}\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IDE.vue?vue&type=template&id=c2af5cc4&\"\nimport script from \"./IDE.vue?vue&type=script&lang=js&\"\nexport * from \"./IDE.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IDE.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=style&index=0&id=76333d38&lang=scss&scoped=true&\""],"sourceRoot":""}